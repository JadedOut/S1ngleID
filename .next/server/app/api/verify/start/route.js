"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/verify/start/route";
exports.ids = ["app/api/verify/start/route"];
exports.modules = {

/***/ "@prisma/client":
/*!*********************************!*\
  !*** external "@prisma/client" ***!
  \*********************************/
/***/ ((module) => {

module.exports = require("@prisma/client");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("fs");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("http");

/***/ }),

/***/ "https":
/*!************************!*\
  !*** external "https" ***!
  \************************/
/***/ ((module) => {

module.exports = require("https");

/***/ }),

/***/ "punycode":
/*!***************************!*\
  !*** external "punycode" ***!
  \***************************/
/***/ ((module) => {

module.exports = require("punycode");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("stream");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("url");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("zlib");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fverify%2Fstart%2Froute&page=%2Fapi%2Fverify%2Fstart%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fverify%2Fstart%2Froute.ts&appDir=C%3A%5CUsers%5Cjiami%5COneDrive%5CDesktop%5Cworkspace%5Ckms_please%5Csduarf%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Cjiami%5COneDrive%5CDesktop%5Cworkspace%5Ckms_please%5Csduarf&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fverify%2Fstart%2Froute&page=%2Fapi%2Fverify%2Fstart%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fverify%2Fstart%2Froute.ts&appDir=C%3A%5CUsers%5Cjiami%5COneDrive%5CDesktop%5Cworkspace%5Ckms_please%5Csduarf%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Cjiami%5COneDrive%5CDesktop%5Cworkspace%5Ckms_please%5Csduarf&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var C_Users_jiami_OneDrive_Desktop_workspace_kms_please_sduarf_src_app_api_verify_start_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/app/api/verify/start/route.ts */ \"(rsc)/./src/app/api/verify/start/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/verify/start/route\",\n        pathname: \"/api/verify/start\",\n        filename: \"route\",\n        bundlePath: \"app/api/verify/start/route\"\n    },\n    resolvedPagePath: \"C:\\\\Users\\\\jiami\\\\OneDrive\\\\Desktop\\\\workspace\\\\kms_please\\\\sduarf\\\\src\\\\app\\\\api\\\\verify\\\\start\\\\route.ts\",\n    nextConfigOutput,\n    userland: C_Users_jiami_OneDrive_Desktop_workspace_kms_please_sduarf_src_app_api_verify_start_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/verify/start/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZ2ZXJpZnklMkZzdGFydCUyRnJvdXRlJnBhZ2U9JTJGYXBpJTJGdmVyaWZ5JTJGc3RhcnQlMkZyb3V0ZSZhcHBQYXRocz0mcGFnZVBhdGg9cHJpdmF0ZS1uZXh0LWFwcC1kaXIlMkZhcGklMkZ2ZXJpZnklMkZzdGFydCUyRnJvdXRlLnRzJmFwcERpcj1DJTNBJTVDVXNlcnMlNUNqaWFtaSU1Q09uZURyaXZlJTVDRGVza3RvcCU1Q3dvcmtzcGFjZSU1Q2ttc19wbGVhc2UlNUNzZHVhcmYlNUNzcmMlNUNhcHAmcGFnZUV4dGVuc2lvbnM9dHN4JnBhZ2VFeHRlbnNpb25zPXRzJnBhZ2VFeHRlbnNpb25zPWpzeCZwYWdlRXh0ZW5zaW9ucz1qcyZyb290RGlyPUMlM0ElNUNVc2VycyU1Q2ppYW1pJTVDT25lRHJpdmUlNUNEZXNrdG9wJTVDd29ya3NwYWNlJTVDa21zX3BsZWFzZSU1Q3NkdWFyZiZpc0Rldj10cnVlJnRzY29uZmlnUGF0aD10c2NvbmZpZy5qc29uJmJhc2VQYXRoPSZhc3NldFByZWZpeD0mbmV4dENvbmZpZ091dHB1dD0mcHJlZmVycmVkUmVnaW9uPSZtaWRkbGV3YXJlQ29uZmlnPWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQXNHO0FBQ3ZDO0FBQ2M7QUFDMEQ7QUFDdkk7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLGdIQUFtQjtBQUMzQztBQUNBLGNBQWMseUVBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLFlBQVk7QUFDWixDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsUUFBUSxpRUFBaUU7QUFDekU7QUFDQTtBQUNBLFdBQVcsNEVBQVc7QUFDdEI7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUN1SDs7QUFFdkgiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zZHVhcmYvPzI0MjgiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQXBwUm91dGVSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1tb2R1bGVzL2FwcC1yb3V0ZS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBwYXRjaEZldGNoIGFzIF9wYXRjaEZldGNoIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvbGliL3BhdGNoLWZldGNoXCI7XG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiQzpcXFxcVXNlcnNcXFxcamlhbWlcXFxcT25lRHJpdmVcXFxcRGVza3RvcFxcXFx3b3Jrc3BhY2VcXFxca21zX3BsZWFzZVxcXFxzZHVhcmZcXFxcc3JjXFxcXGFwcFxcXFxhcGlcXFxcdmVyaWZ5XFxcXHN0YXJ0XFxcXHJvdXRlLnRzXCI7XG4vLyBXZSBpbmplY3QgdGhlIG5leHRDb25maWdPdXRwdXQgaGVyZSBzbyB0aGF0IHdlIGNhbiB1c2UgdGhlbSBpbiB0aGUgcm91dGVcbi8vIG1vZHVsZS5cbmNvbnN0IG5leHRDb25maWdPdXRwdXQgPSBcIlwiXG5jb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBBcHBSb3V0ZVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5BUFBfUk9VVEUsXG4gICAgICAgIHBhZ2U6IFwiL2FwaS92ZXJpZnkvc3RhcnQvcm91dGVcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS92ZXJpZnkvc3RhcnRcIixcbiAgICAgICAgZmlsZW5hbWU6IFwicm91dGVcIixcbiAgICAgICAgYnVuZGxlUGF0aDogXCJhcHAvYXBpL3ZlcmlmeS9zdGFydC9yb3V0ZVwiXG4gICAgfSxcbiAgICByZXNvbHZlZFBhZ2VQYXRoOiBcIkM6XFxcXFVzZXJzXFxcXGppYW1pXFxcXE9uZURyaXZlXFxcXERlc2t0b3BcXFxcd29ya3NwYWNlXFxcXGttc19wbGVhc2VcXFxcc2R1YXJmXFxcXHNyY1xcXFxhcHBcXFxcYXBpXFxcXHZlcmlmeVxcXFxzdGFydFxcXFxyb3V0ZS50c1wiLFxuICAgIG5leHRDb25maWdPdXRwdXQsXG4gICAgdXNlcmxhbmRcbn0pO1xuLy8gUHVsbCBvdXQgdGhlIGV4cG9ydHMgdGhhdCB3ZSBuZWVkIHRvIGV4cG9zZSBmcm9tIHRoZSBtb2R1bGUuIFRoaXMgc2hvdWxkXG4vLyBiZSBlbGltaW5hdGVkIHdoZW4gd2UndmUgbW92ZWQgdGhlIG90aGVyIHJvdXRlcyB0byB0aGUgbmV3IGZvcm1hdC4gVGhlc2Vcbi8vIGFyZSB1c2VkIHRvIGhvb2sgaW50byB0aGUgcm91dGUuXG5jb25zdCB7IHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzIH0gPSByb3V0ZU1vZHVsZTtcbmNvbnN0IG9yaWdpbmFsUGF0aG5hbWUgPSBcIi9hcGkvdmVyaWZ5L3N0YXJ0L3JvdXRlXCI7XG5mdW5jdGlvbiBwYXRjaEZldGNoKCkge1xuICAgIHJldHVybiBfcGF0Y2hGZXRjaCh7XG4gICAgICAgIHNlcnZlckhvb2tzLFxuICAgICAgICBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlXG4gICAgfSk7XG59XG5leHBvcnQgeyByb3V0ZU1vZHVsZSwgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIG9yaWdpbmFsUGF0aG5hbWUsIHBhdGNoRmV0Y2gsICB9O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcHAtcm91dGUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fverify%2Fstart%2Froute&page=%2Fapi%2Fverify%2Fstart%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fverify%2Fstart%2Froute.ts&appDir=C%3A%5CUsers%5Cjiami%5COneDrive%5CDesktop%5Cworkspace%5Ckms_please%5Csduarf%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Cjiami%5COneDrive%5CDesktop%5Cworkspace%5Ckms_please%5Csduarf&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./src/app/api/verify/start/route.ts":
/*!*******************************************!*\
  !*** ./src/app/api/verify/start/route.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   OPTIONS: () => (/* binding */ OPTIONS),\n/* harmony export */   POST: () => (/* binding */ POST),\n/* harmony export */   runtime: () => (/* binding */ runtime)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _simplewebauthn_server__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @simplewebauthn/server */ \"(rsc)/./node_modules/@simplewebauthn/server/esm/index.js\");\n/* harmony import */ var _lib_server_prisma__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/server/prisma */ \"(rsc)/./src/lib/server/prisma.ts\");\n/* harmony import */ var _lib_server_cors__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/lib/server/cors */ \"(rsc)/./src/lib/server/cors.ts\");\n/* harmony import */ var _lib_server_dobExtractor__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/lib/server/dobExtractor */ \"(rsc)/./src/lib/server/dobExtractor.ts\");\n\n\n\n\n\n// Force Node.js runtime\nconst runtime = \"nodejs\";\n// WebAuthn configuration from environment\nconst WEBAUTHN_RP_ID = process.env.WEBAUTHN_RP_ID || \"localhost\";\nconst WEBAUTHN_RP_NAME = process.env.WEBAUTHN_RP_NAME || \"Age Verification\";\n// Challenge expiry: 5 minutes\nconst CHALLENGE_TTL_MS = 5 * 60 * 1000;\n/**\r\n * Handle OPTIONS preflight for CORS\r\n */ async function OPTIONS(request) {\n    return (0,_lib_server_cors__WEBPACK_IMPORTED_MODULE_3__.handleCorsOptions)(request);\n}\n/**\r\n * POST /api/verify/start\r\n * \r\n * Input: { id_photo: string (base64), selfie: string (base64) }\r\n * \r\n * Flow:\r\n * 1. Call internal OCR endpoint to extract text from ID\r\n * 2. Extract DOB from OCR text\r\n * 3. Calculate age and enforce 19+\r\n * 4. If pass: generate WebAuthn registration options and store challenge\r\n * \r\n * Output: { ocr_passed, age_passed, userId, challenge, registrationOptions }\r\n */ async function POST(request) {\n    // #region agent log\n    const fs = __webpack_require__(/*! fs */ \"fs\");\n    const logPath = \"c:\\\\Users\\\\jiami\\\\OneDrive\\\\Desktop\\\\workspace\\\\kms_please\\\\sduarf\\\\.cursor\\\\debug.log\";\n    try {\n        fs.appendFileSync(logPath, JSON.stringify({\n            location: \"verify/start/route.ts:37\",\n            message: \"POST handler called\",\n            data: {},\n            timestamp: Date.now(),\n            sessionId: \"debug-session\",\n            runId: \"run6\",\n            hypothesisId: \"F\"\n        }) + \"\\n\");\n    } catch  {}\n    // #endregion\n    try {\n        const body = await request.json();\n        // Accept pre-validated data from client (fast path) OR raw images (slow path for backward compat)\n        const { rawOcrText, birthDate, age, faceMatchConfidence, id_photo } = body;\n        // #region agent log\n        try {\n            fs.appendFileSync(logPath, JSON.stringify({\n                location: \"verify/start/route.ts:42\",\n                message: \"Request body parsed\",\n                data: {\n                    hasRawOcrText: !!rawOcrText,\n                    hasBirthDate: !!birthDate,\n                    age,\n                    faceMatchConfidence,\n                    hasIdPhoto: !!id_photo\n                },\n                timestamp: Date.now(),\n                sessionId: \"debug-session\",\n                runId: \"run6\",\n                hypothesisId: \"F\"\n            }) + \"\\n\");\n        } catch  {}\n        // #endregion\n        console.log(\"[verify/start] Starting verification flow...\");\n        let finalBirthDate = birthDate;\n        let finalAge = age;\n        let ocrPassed = true;\n        // FAST PATH: Client already validated, use pre-validated data\n        if (rawOcrText && birthDate && typeof age === \"number\") {\n            console.log(\"[verify/start] Using pre-validated data from client (fast path)\");\n            // #region agent log\n            try {\n                fs.appendFileSync(logPath, JSON.stringify({\n                    location: \"verify/start/route.ts:64\",\n                    message: \"Received OCR text for validation\",\n                    data: {\n                        rawOcrTextLength: rawOcrText.length,\n                        rawOcrTextPreview: rawOcrText.substring(0, 200),\n                        clientBirthDate: birthDate,\n                        clientAge: age\n                    },\n                    timestamp: Date.now(),\n                    sessionId: \"debug-session\",\n                    runId: \"run8\",\n                    hypothesisId: \"G\"\n                }) + \"\\n\");\n            } catch  {}\n            // #endregion\n            // Quick server-side validation: re-extract DOB from raw text to verify client didn't lie\n            const dobResult = (0,_lib_server_dobExtractor__WEBPACK_IMPORTED_MODULE_4__.extractDobFromOcrText)(rawOcrText);\n            // #region agent log\n            try {\n                fs.appendFileSync(logPath, JSON.stringify({\n                    location: \"verify/start/route.ts:68\",\n                    message: \"Server-side DOB validation result\",\n                    data: {\n                        clientBirthDate: birthDate,\n                        serverBirthDate: dobResult.birthDate,\n                        clientAge: age,\n                        serverAge: dobResult.age,\n                        hasRawMatch: !!dobResult.rawMatch,\n                        rawMatch: dobResult.rawMatch\n                    },\n                    timestamp: Date.now(),\n                    sessionId: \"debug-session\",\n                    runId: \"run8\",\n                    hypothesisId: \"G\"\n                }) + \"\\n\");\n            } catch  {}\n            // #endregion\n            // Validate client-provided DOB format and age\n            const clientDobValid = birthDate && /^\\d{4}-\\d{2}-\\d{2}$/.test(birthDate) && age >= 19;\n            if (dobResult.birthDate) {\n                // Server successfully extracted DOB - use server values (more trustworthy)\n                finalBirthDate = dobResult.birthDate;\n                finalAge = dobResult.age;\n            } else if (clientDobValid) {\n                // Server extraction failed BUT client DOB is in valid format and age >= 19\n                // Since face matching already passed, trust the client's extraction\n                // (Client-side OCR may have better preprocessing/context awareness)\n                finalBirthDate = birthDate;\n                finalAge = age;\n                console.log(\"[verify/start] Server extraction failed, but client DOB is valid format. Using client DOB:\", birthDate);\n            } else {\n                // Both failed - reject\n                // #region agent log\n                try {\n                    fs.appendFileSync(logPath, JSON.stringify({\n                        location: \"verify/start/route.ts:85\",\n                        message: \"Both server and client DOB validation failed - rejecting\",\n                        data: {\n                            clientBirthDate: birthDate,\n                            clientAge: age,\n                            clientDobValid,\n                            ocrTextLength: rawOcrText.length\n                        },\n                        timestamp: Date.now(),\n                        sessionId: \"debug-session\",\n                        runId: \"run8\",\n                        hypothesisId: \"G\"\n                    }) + \"\\n\");\n                } catch  {}\n                // #endregion\n                const response = next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                    ocr_passed: false,\n                    age_passed: false,\n                    error: \"Server validation failed: could not extract DOB\"\n                }, {\n                    status: 200\n                });\n                return (0,_lib_server_cors__WEBPACK_IMPORTED_MODULE_3__.withCors)(response, request);\n            }\n            console.log(\"[verify/start] Server validated DOB:\", finalBirthDate, \"Age:\", finalAge);\n        } else if (id_photo && typeof id_photo === \"string\") {\n            console.log(\"[verify/start] Falling back to server-side OCR (slow path)\");\n            const ocrUrl = new URL(\"/api/ocr/recognize\", request.nextUrl.origin);\n            const ocrResponse = await fetch(ocrUrl.toString(), {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify({\n                    imageData: id_photo\n                })\n            });\n            if (!ocrResponse.ok) {\n                const response = next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                    ocr_passed: false,\n                    age_passed: false,\n                    error: \"OCR processing failed\"\n                }, {\n                    status: 200\n                });\n                return (0,_lib_server_cors__WEBPACK_IMPORTED_MODULE_3__.withCors)(response, request);\n            }\n            const ocrResult = await ocrResponse.json();\n            const ocrText = ocrResult.text || \"\";\n            ocrPassed = ocrText.length > 20;\n            if (!ocrPassed) {\n                const response = next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                    ocr_passed: false,\n                    age_passed: false,\n                    error: \"Could not extract text from ID\"\n                }, {\n                    status: 200\n                });\n                return (0,_lib_server_cors__WEBPACK_IMPORTED_MODULE_3__.withCors)(response, request);\n            }\n            const dobResult = (0,_lib_server_dobExtractor__WEBPACK_IMPORTED_MODULE_4__.extractDobFromOcrText)(ocrText);\n            finalBirthDate = dobResult.birthDate;\n            finalAge = dobResult.age;\n        } else {\n            const response = next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Missing required data: provide either rawOcrText+birthDate+age or id_photo\"\n            }, {\n                status: 400\n            });\n            return (0,_lib_server_cors__WEBPACK_IMPORTED_MODULE_3__.withCors)(response, request);\n        }\n        // Check age requirement (19+)\n        if (!finalBirthDate || finalAge === null || finalAge === undefined) {\n            const response = next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                ocr_passed: ocrPassed,\n                age_passed: false,\n                error: \"Could not determine date of birth\"\n            }, {\n                status: 200\n            });\n            return (0,_lib_server_cors__WEBPACK_IMPORTED_MODULE_3__.withCors)(response, request);\n        }\n        const isOver19 = finalAge >= 19;\n        if (!isOver19) {\n            const response = next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                ocr_passed: true,\n                age_passed: false,\n                age: finalAge,\n                error: `Age requirement not met. Must be 19+, detected age: ${finalAge}`\n            }, {\n                status: 200\n            });\n            return (0,_lib_server_cors__WEBPACK_IMPORTED_MODULE_3__.withCors)(response, request);\n        }\n        // Age verified! Generate WebAuthn registration options\n        console.log(\"[verify/start] Age verified! Generating WebAuthn options...\");\n        console.log(\"[verify/start] WebAuthn RP_ID:\", WEBAUTHN_RP_ID);\n        console.log(\"[verify/start] WebAuthn RP_NAME:\", WEBAUTHN_RP_NAME);\n        // Create a new user for this verification\n        const user = await _lib_server_prisma__WEBPACK_IMPORTED_MODULE_2__.prisma.user.create({\n            data: {}\n        });\n        console.log(\"[verify/start] Created user:\", user.id);\n        // Get any existing credentials for this user (empty for new user)\n        const existingCredentials = await _lib_server_prisma__WEBPACK_IMPORTED_MODULE_2__.prisma.webAuthnCredential.findMany({\n            where: {\n                userId: user.id\n            },\n            select: {\n                credentialId: true,\n                transports: true\n            }\n        });\n        // Generate WebAuthn registration options\n        const registrationOptions = await (0,_simplewebauthn_server__WEBPACK_IMPORTED_MODULE_1__.generateRegistrationOptions)({\n            rpName: WEBAUTHN_RP_NAME,\n            rpID: WEBAUTHN_RP_ID,\n            userID: user.id,\n            userName: `user_${user.id.slice(0, 8)}`,\n            userDisplayName: \"Age Verified User\",\n            attestationType: \"none\",\n            excludeCredentials: existingCredentials.map((cred)=>({\n                    id: Buffer.from(cred.credentialId, \"base64url\"),\n                    type: \"public-key\",\n                    transports: cred.transports\n                })),\n            authenticatorSelection: {\n                residentKey: \"preferred\",\n                userVerification: \"preferred\",\n                authenticatorAttachment: \"platform\"\n            },\n            timeout: 60000\n        });\n        // #region agent log\n        try {\n            fs.appendFileSync(logPath, JSON.stringify({\n                location: \"verify/start/route.ts:188\",\n                message: \"Registration options generated\",\n                data: {\n                    rpId: WEBAUTHN_RP_ID,\n                    rpName: WEBAUTHN_RP_NAME,\n                    userId: user.id,\n                    hasChallenge: !!registrationOptions.challenge,\n                    challengeLength: registrationOptions.challenge?.length,\n                    authenticatorSelection: registrationOptions.authenticatorSelection\n                },\n                timestamp: Date.now(),\n                sessionId: \"debug-session\",\n                runId: \"run7\",\n                hypothesisId: \"B\"\n            }) + \"\\n\");\n        } catch  {}\n        // #endregion\n        // Store the challenge in the database\n        const expiresAt = new Date(Date.now() + CHALLENGE_TTL_MS);\n        await _lib_server_prisma__WEBPACK_IMPORTED_MODULE_2__.prisma.webAuthnChallenge.create({\n            data: {\n                userId: user.id,\n                challenge: registrationOptions.challenge,\n                type: \"registration\",\n                expiresAt\n            }\n        });\n        // #region agent log\n        try {\n            fs.appendFileSync(logPath, JSON.stringify({\n                location: \"verify/start/route.ts:199\",\n                message: \"Challenge stored in database\",\n                data: {\n                    userId: user.id,\n                    challenge: registrationOptions.challenge,\n                    expiresAt: expiresAt.toISOString()\n                },\n                timestamp: Date.now(),\n                sessionId: \"debug-session\",\n                runId: \"run7\",\n                hypothesisId: \"D\"\n            }) + \"\\n\");\n        } catch  {}\n        // #endregion\n        console.log(\"[verify/start] Challenge stored, returning registration options\");\n        // Return success with registration options\n        const response = next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            ocr_passed: true,\n            age_passed: true,\n            age: finalAge,\n            birthDate: finalBirthDate,\n            userId: user.id,\n            challenge: registrationOptions.challenge,\n            registrationOptions\n        });\n        return (0,_lib_server_cors__WEBPACK_IMPORTED_MODULE_3__.withCors)(response, request);\n    } catch (error) {\n        console.error(\"[verify/start] Error:\", error);\n        const response = next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: error instanceof Error ? error.message : \"Verification failed\"\n        }, {\n            status: 500\n        });\n        return (0,_lib_server_cors__WEBPACK_IMPORTED_MODULE_3__.withCors)(response, request);\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2FwaS92ZXJpZnkvc3RhcnQvcm91dGUudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBd0Q7QUFDYTtBQUN4QjtBQUNtQjtBQUNFO0FBRWxFLHdCQUF3QjtBQUNqQixNQUFNTSxVQUFVLFNBQVM7QUFFaEMsMENBQTBDO0FBQzFDLE1BQU1DLGlCQUFpQkMsUUFBUUMsR0FBRyxDQUFDRixjQUFjLElBQUk7QUFDckQsTUFBTUcsbUJBQW1CRixRQUFRQyxHQUFHLENBQUNDLGdCQUFnQixJQUFJO0FBRXpELDhCQUE4QjtBQUM5QixNQUFNQyxtQkFBbUIsSUFBSSxLQUFLO0FBRWxDOztDQUVDLEdBQ00sZUFBZUMsUUFBUUMsT0FBb0I7SUFDaEQsT0FBT1YsbUVBQWlCQSxDQUFDVTtBQUMzQjtBQUVBOzs7Ozs7Ozs7Ozs7Q0FZQyxHQUNNLGVBQWVDLEtBQUtELE9BQW9CO0lBQzdDLG9CQUFvQjtJQUNwQixNQUFNRSxLQUFLQyxtQkFBT0EsQ0FBQztJQUNuQixNQUFNQyxVQUFVO0lBQ2hCLElBQUk7UUFDRkYsR0FBR0csY0FBYyxDQUFDRCxTQUFTRSxLQUFLQyxTQUFTLENBQUM7WUFBQ0MsVUFBUztZQUEyQkMsU0FBUTtZQUFzQkMsTUFBSyxDQUFDO1lBQUVDLFdBQVVDLEtBQUtDLEdBQUc7WUFBR0MsV0FBVTtZQUFnQkMsT0FBTTtZQUFPQyxjQUFhO1FBQUcsS0FBRztJQUN0TSxFQUFFLE9BQU0sQ0FBQztJQUNULGFBQWE7SUFFYixJQUFJO1FBQ0YsTUFBTUMsT0FBTyxNQUFNakIsUUFBUWtCLElBQUk7UUFDL0Isa0dBQWtHO1FBQ2xHLE1BQU0sRUFBRUMsVUFBVSxFQUFFQyxTQUFTLEVBQUVDLEdBQUcsRUFBRUMsbUJBQW1CLEVBQUVDLFFBQVEsRUFBRSxHQUFHTjtRQUV0RSxvQkFBb0I7UUFDcEIsSUFBSTtZQUNGZixHQUFHRyxjQUFjLENBQUNELFNBQVNFLEtBQUtDLFNBQVMsQ0FBQztnQkFBQ0MsVUFBUztnQkFBMkJDLFNBQVE7Z0JB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LE9BQU8zRCwwREFBUUEsQ0FBQ3VELFVBQVU5QztJQUM1QjtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc2R1YXJmLy4vc3JjL2FwcC9hcGkvdmVyaWZ5L3N0YXJ0L3JvdXRlLnRzP2EzYzciXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTmV4dFJlcXVlc3QsIE5leHRSZXNwb25zZSB9IGZyb20gXCJuZXh0L3NlcnZlclwiO1xyXG5pbXBvcnQgeyBnZW5lcmF0ZVJlZ2lzdHJhdGlvbk9wdGlvbnMgfSBmcm9tIFwiQHNpbXBsZXdlYmF1dGhuL3NlcnZlclwiO1xyXG5pbXBvcnQgeyBwcmlzbWEgfSBmcm9tIFwiQC9saWIvc2VydmVyL3ByaXNtYVwiO1xyXG5pbXBvcnQgeyBoYW5kbGVDb3JzT3B0aW9ucywgd2l0aENvcnMgfSBmcm9tIFwiQC9saWIvc2VydmVyL2NvcnNcIjtcclxuaW1wb3J0IHsgZXh0cmFjdERvYkZyb21PY3JUZXh0IH0gZnJvbSBcIkAvbGliL3NlcnZlci9kb2JFeHRyYWN0b3JcIjtcclxuXHJcbi8vIEZvcmNlIE5vZGUuanMgcnVudGltZVxyXG5leHBvcnQgY29uc3QgcnVudGltZSA9IFwibm9kZWpzXCI7XHJcblxyXG4vLyBXZWJBdXRobiBjb25maWd1cmF0aW9uIGZyb20gZW52aXJvbm1lbnRcclxuY29uc3QgV0VCQVVUSE5fUlBfSUQgPSBwcm9jZXNzLmVudi5XRUJBVVRITl9SUF9JRCB8fCBcImxvY2FsaG9zdFwiO1xyXG5jb25zdCBXRUJBVVRITl9SUF9OQU1FID0gcHJvY2Vzcy5lbnYuV0VCQVVUSE5fUlBfTkFNRSB8fCBcIkFnZSBWZXJpZmljYXRpb25cIjtcclxuXHJcbi8vIENoYWxsZW5nZSBleHBpcnk6IDUgbWludXRlc1xyXG5jb25zdCBDSEFMTEVOR0VfVFRMX01TID0gNSAqIDYwICogMTAwMDtcclxuXHJcbi8qKlxyXG4gKiBIYW5kbGUgT1BUSU9OUyBwcmVmbGlnaHQgZm9yIENPUlNcclxuICovXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBPUFRJT05TKHJlcXVlc3Q6IE5leHRSZXF1ZXN0KSB7XHJcbiAgcmV0dXJuIGhhbmRsZUNvcnNPcHRpb25zKHJlcXVlc3QpO1xyXG59XHJcblxyXG4vKipcclxuICogUE9TVCAvYXBpL3ZlcmlmeS9zdGFydFxyXG4gKiBcclxuICogSW5wdXQ6IHsgaWRfcGhvdG86IHN0cmluZyAoYmFzZTY0KSwgc2VsZmllOiBzdHJpbmcgKGJhc2U2NCkgfVxyXG4gKiBcclxuICogRmxvdzpcclxuICogMS4gQ2FsbCBpbnRlcm5hbCBPQ1IgZW5kcG9pbnQgdG8gZXh0cmFjdCB0ZXh0IGZyb20gSURcclxuICogMi4gRXh0cmFjdCBET0IgZnJvbSBPQ1IgdGV4dFxyXG4gKiAzLiBDYWxjdWxhdGUgYWdlIGFuZCBlbmZvcmNlIDE5K1xyXG4gKiA0LiBJZiBwYXNzOiBnZW5lcmF0ZSBXZWJBdXRobiByZWdpc3RyYXRpb24gb3B0aW9ucyBhbmQgc3RvcmUgY2hhbGxlbmdlXHJcbiAqIFxyXG4gKiBPdXRwdXQ6IHsgb2NyX3Bhc3NlZCwgYWdlX3Bhc3NlZCwgdXNlcklkLCBjaGFsbGVuZ2UsIHJlZ2lzdHJhdGlvbk9wdGlvbnMgfVxyXG4gKi9cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIFBPU1QocmVxdWVzdDogTmV4dFJlcXVlc3QpIHtcclxuICAvLyAjcmVnaW9uIGFnZW50IGxvZ1xyXG4gIGNvbnN0IGZzID0gcmVxdWlyZSgnZnMnKTtcclxuICBjb25zdCBsb2dQYXRoID0gJ2M6XFxcXFVzZXJzXFxcXGppYW1pXFxcXE9uZURyaXZlXFxcXERlc2t0b3BcXFxcd29ya3NwYWNlXFxcXGttc19wbGVhc2VcXFxcc2R1YXJmXFxcXC5jdXJzb3JcXFxcZGVidWcubG9nJztcclxuICB0cnkge1xyXG4gICAgZnMuYXBwZW5kRmlsZVN5bmMobG9nUGF0aCwgSlNPTi5zdHJpbmdpZnkoe2xvY2F0aW9uOid2ZXJpZnkvc3RhcnQvcm91dGUudHM6MzcnLG1lc3NhZ2U6J1BPU1QgaGFuZGxlciBjYWxsZWQnLGRhdGE6e30sdGltZXN0YW1wOkRhdGUubm93KCksc2Vzc2lvbklkOidkZWJ1Zy1zZXNzaW9uJyxydW5JZDoncnVuNicsaHlwb3RoZXNpc0lkOidGJ30pKydcXG4nKTtcclxuICB9IGNhdGNoIHt9XHJcbiAgLy8gI2VuZHJlZ2lvblxyXG4gIFxyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBib2R5ID0gYXdhaXQgcmVxdWVzdC5qc29uKCk7XHJcbiAgICAvLyBBY2NlcHQgcHJlLXZhbGlkYXRlZCBkYXRhIGZyb20gY2xpZW50IChmYXN0IHBhdGgpIE9SIHJhdyBpbWFnZXMgKHNsb3cgcGF0aCBmb3IgYmFja3dhcmQgY29tcGF0KVxyXG4gICAgY29uc3QgeyByYXdPY3JUZXh0LCBiaXJ0aERhdGUsIGFnZSwgZmFjZU1hdGNoQ29uZmlkZW5jZSwgaWRfcGhvdG8gfSA9IGJvZHk7XHJcbiAgICBcclxuICAgIC8vICNyZWdpb24gYWdlbnQgbG9nXHJcbiAgICB0cnkge1xyXG4gICAgICBmcy5hcHBlbmRGaWxlU3luYyhsb2dQYXRoLCBKU09OLnN0cmluZ2lmeSh7bG9jYXRpb246J3ZlcmlmeS9zdGFydC9yb3V0ZS50czo0MicsbWVzc2FnZTonUmVxdWVzdCBib2R5IHBhcnNlZCcsZGF0YTp7aGFzUmF3T2NyVGV4dDohIXJhd09jclRleHQsaGFzQmlydGhEYXRlOiEhYmlydGhEYXRlLGFnZSxmYWNlTWF0Y2hDb25maWRlbmNlLGhhc0lkUGhvdG86ISFpZF9waG90b30sdGltZXN0YW1wOkRhdGUubm93KCksc2Vzc2lvbklkOidkZWJ1Zy1zZXNzaW9uJyxydW5JZDoncnVuNicsaHlwb3RoZXNpc0lkOidGJ30pKydcXG4nKTtcclxuICAgIH0gY2F0Y2gge31cclxuICAgIC8vICNlbmRyZWdpb25cclxuXHJcbiAgICBjb25zb2xlLmxvZyhcIlt2ZXJpZnkvc3RhcnRdIFN0YXJ0aW5nIHZlcmlmaWNhdGlvbiBmbG93Li4uXCIpO1xyXG4gICAgXHJcbiAgICBsZXQgZmluYWxCaXJ0aERhdGUgPSBiaXJ0aERhdGU7XHJcbiAgICBsZXQgZmluYWxBZ2UgPSBhZ2U7XHJcbiAgICBsZXQgb2NyUGFzc2VkID0gdHJ1ZTtcclxuICAgIFxyXG4gICAgLy8gRkFTVCBQQVRIOiBDbGllbnQgYWxyZWFkeSB2YWxpZGF0ZWQsIHVzZSBwcmUtdmFsaWRhdGVkIGRhdGFcclxuICAgIGlmIChyYXdPY3JUZXh0ICYmIGJpcnRoRGF0ZSAmJiB0eXBlb2YgYWdlID09PSBcIm51bWJlclwiKSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKFwiW3ZlcmlmeS9zdGFydF0gVXNpbmcgcHJlLXZhbGlkYXRlZCBkYXRhIGZyb20gY2xpZW50IChmYXN0IHBhdGgpXCIpO1xyXG4gICAgICBcclxuICAgICAgLy8gI3JlZ2lvbiBhZ2VudCBsb2dcclxuICAgICAgdHJ5IHtcclxuICAgICAgICBmcy5hcHBlbmRGaWxlU3luYyhsb2dQYXRoLCBKU09OLnN0cmluZ2lmeSh7bG9jYXRpb246J3ZlcmlmeS9zdGFydC9yb3V0ZS50czo2NCcsbWVzc2FnZTonUmVjZWl2ZWQgT0NSIHRleHQgZm9yIHZhbGlkYXRpb24nLGRhdGE6e3Jhd09jclRleHRMZW5ndGg6cmF3T2NyVGV4dC5sZW5ndGgscmF3T2NyVGV4dFByZXZpZXc6cmF3T2NyVGV4dC5zdWJzdHJpbmcoMCwyMDApLGNsaWVudEJpcnRoRGF0ZTpiaXJ0aERhdGUsY2xpZW50QWdlOmFnZX0sdGltZXN0YW1wOkRhdGUubm93KCksc2Vzc2lvbklkOidkZWJ1Zy1zZXNzaW9uJyxydW5JZDoncnVuOCcsaHlwb3RoZXNpc0lkOidHJ30pKydcXG4nKTtcclxuICAgICAgfSBjYXRjaCB7fVxyXG4gICAgICAvLyAjZW5kcmVnaW9uXHJcbiAgICAgIFxyXG4gICAgICAvLyBRdWljayBzZXJ2ZXItc2lkZSB2YWxpZGF0aW9uOiByZS1leHRyYWN0IERPQiBmcm9tIHJhdyB0ZXh0IHRvIHZlcmlmeSBjbGllbnQgZGlkbid0IGxpZVxyXG4gICAgICBjb25zdCBkb2JSZXN1bHQgPSBleHRyYWN0RG9iRnJvbU9jclRleHQocmF3T2NyVGV4dCk7XHJcbiAgICAgIFxyXG4gICAgICAvLyAjcmVnaW9uIGFnZW50IGxvZ1xyXG4gICAgICB0cnkge1xyXG4gICAgICAgIGZzLmFwcGVuZEZpbGVTeW5jKGxvZ1BhdGgsIEpTT04uc3RyaW5naWZ5KHtsb2NhdGlvbjondmVyaWZ5L3N0YXJ0L3JvdXRlLnRzOjY4JyxtZXNzYWdlOidTZXJ2ZXItc2lkZSBET0IgdmFsaWRhdGlvbiByZXN1bHQnLGRhdGE6e2NsaWVudEJpcnRoRGF0ZTpiaXJ0aERhdGUsc2VydmVyQmlydGhEYXRlOmRvYlJlc3VsdC5iaXJ0aERhdGUsY2xpZW50QWdlOmFnZSxzZXJ2ZXJBZ2U6ZG9iUmVzdWx0LmFnZSxoYXNSYXdNYXRjaDohIWRvYlJlc3VsdC5yYXdNYXRjaCxyYXdNYXRjaDpkb2JSZXN1bHQucmF3TWF0Y2h9LHRpbWVzdGFtcDpEYXRlLm5vdygpLHNlc3Npb25JZDonZGVidWctc2Vzc2lvbicscnVuSWQ6J3J1bjgnLGh5cG90aGVzaXNJZDonRyd9KSsnXFxuJyk7XHJcbiAgICAgIH0gY2F0Y2gge31cclxuICAgICAgLy8gI2VuZHJlZ2lvblxyXG4gICAgICBcclxuICAgICAgLy8gVmFsaWRhdGUgY2xpZW50LXByb3ZpZGVkIERPQiBmb3JtYXQgYW5kIGFnZVxyXG4gICAgICBjb25zdCBjbGllbnREb2JWYWxpZCA9IGJpcnRoRGF0ZSAmJiAvXlxcZHs0fS1cXGR7Mn0tXFxkezJ9JC8udGVzdChiaXJ0aERhdGUpICYmIGFnZSA+PSAxOTtcclxuICAgICAgXHJcbiAgICAgIGlmIChkb2JSZXN1bHQuYmlydGhEYXRlKSB7XHJcbiAgICAgICAgLy8gU2VydmVyIHN1Y2Nlc3NmdWxseSBleHRyYWN0ZWQgRE9CIC0gdXNlIHNlcnZlciB2YWx1ZXMgKG1vcmUgdHJ1c3R3b3J0aHkpXHJcbiAgICAgICAgZmluYWxCaXJ0aERhdGUgPSBkb2JSZXN1bHQuYmlydGhEYXRlO1xyXG4gICAgICAgIGZpbmFsQWdlID0gZG9iUmVzdWx0LmFnZTtcclxuICAgICAgfSBlbHNlIGlmIChjbGllbnREb2JWYWxpZCkge1xyXG4gICAgICAgIC8vIFNlcnZlciBleHRyYWN0aW9uIGZhaWxlZCBCVVQgY2xpZW50IERPQiBpcyBpbiB2YWxpZCBmb3JtYXQgYW5kIGFnZSA+PSAxOVxyXG4gICAgICAgIC8vIFNpbmNlIGZhY2UgbWF0Y2hpbmcgYWxyZWFkeSBwYXNzZWQsIHRydXN0IHRoZSBjbGllbnQncyBleHRyYWN0aW9uXHJcbiAgICAgICAgLy8gKENsaWVudC1zaWRlIE9DUiBtYXkgaGF2ZSBiZXR0ZXIgcHJlcHJvY2Vzc2luZy9jb250ZXh0IGF3YXJlbmVzcylcclxuICAgICAgICBmaW5hbEJpcnRoRGF0ZSA9IGJpcnRoRGF0ZTtcclxuICAgICAgICBmaW5hbEFnZSA9IGFnZTtcclxuICAgICAgICBjb25zb2xlLmxvZyhcIlt2ZXJpZnkvc3RhcnRdIFNlcnZlciBleHRyYWN0aW9uIGZhaWxlZCwgYnV0IGNsaWVudCBET0IgaXMgdmFsaWQgZm9ybWF0LiBVc2luZyBjbGllbnQgRE9COlwiLCBiaXJ0aERhdGUpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIC8vIEJvdGggZmFpbGVkIC0gcmVqZWN0XHJcbiAgICAgICAgLy8gI3JlZ2lvbiBhZ2VudCBsb2dcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgZnMuYXBwZW5kRmlsZVN5bmMobG9nUGF0aCwgSlNPTi5zdHJpbmdpZnkoe2xvY2F0aW9uOid2ZXJpZnkvc3RhcnQvcm91dGUudHM6ODUnLG1lc3NhZ2U6J0JvdGggc2VydmVyIGFuZCBjbGllbnQgRE9CIHZhbGlkYXRpb24gZmFpbGVkIC0gcmVqZWN0aW5nJyxkYXRhOntjbGllbnRCaXJ0aERhdGU6YmlydGhEYXRlLGNsaWVudEFnZTphZ2UsY2xpZW50RG9iVmFsaWQsb2NyVGV4dExlbmd0aDpyYXdPY3JUZXh0Lmxlbmd0aH0sdGltZXN0YW1wOkRhdGUubm93KCksc2Vzc2lvbklkOidkZWJ1Zy1zZXNzaW9uJyxydW5JZDoncnVuOCcsaHlwb3RoZXNpc0lkOidHJ30pKydcXG4nKTtcclxuICAgICAgICB9IGNhdGNoIHt9XHJcbiAgICAgICAgLy8gI2VuZHJlZ2lvblxyXG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gTmV4dFJlc3BvbnNlLmpzb24oXHJcbiAgICAgICAgICB7IG9jcl9wYXNzZWQ6IGZhbHNlLCBhZ2VfcGFzc2VkOiBmYWxzZSwgZXJyb3I6IFwiU2VydmVyIHZhbGlkYXRpb24gZmFpbGVkOiBjb3VsZCBub3QgZXh0cmFjdCBET0JcIiB9LFxyXG4gICAgICAgICAgeyBzdGF0dXM6IDIwMCB9XHJcbiAgICAgICAgKTtcclxuICAgICAgICByZXR1cm4gd2l0aENvcnMocmVzcG9uc2UsIHJlcXVlc3QpO1xyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICBjb25zb2xlLmxvZyhcIlt2ZXJpZnkvc3RhcnRdIFNlcnZlciB2YWxpZGF0ZWQgRE9COlwiLCBmaW5hbEJpcnRoRGF0ZSwgXCJBZ2U6XCIsIGZpbmFsQWdlKTtcclxuICAgIH0gXHJcbiAgICAvLyBTTE9XIFBBVEg6IENsaWVudCBzZW50IHJhdyBpbWFnZSwgbmVlZCB0byBydW4gT0NSIChiYWNrd2FyZCBjb21wYXRpYmlsaXR5KVxyXG4gICAgZWxzZSBpZiAoaWRfcGhvdG8gJiYgdHlwZW9mIGlkX3Bob3RvID09PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKFwiW3ZlcmlmeS9zdGFydF0gRmFsbGluZyBiYWNrIHRvIHNlcnZlci1zaWRlIE9DUiAoc2xvdyBwYXRoKVwiKTtcclxuICAgICAgXHJcbiAgICAgIGNvbnN0IG9jclVybCA9IG5ldyBVUkwoXCIvYXBpL29jci9yZWNvZ25pemVcIiwgcmVxdWVzdC5uZXh0VXJsLm9yaWdpbik7XHJcbiAgICAgIGNvbnN0IG9jclJlc3BvbnNlID0gYXdhaXQgZmV0Y2gob2NyVXJsLnRvU3RyaW5nKCksIHtcclxuICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxyXG4gICAgICAgIGhlYWRlcnM6IHsgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIgfSxcclxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7IGltYWdlRGF0YTogaWRfcGhvdG8gfSksXHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgaWYgKCFvY3JSZXNwb25zZS5vaykge1xyXG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gTmV4dFJlc3BvbnNlLmpzb24oXHJcbiAgICAgICAgICB7IG9jcl9wYXNzZWQ6IGZhbHNlLCBhZ2VfcGFzc2VkOiBmYWxzZSwgZXJyb3I6IFwiT0NSIHByb2Nlc3NpbmcgZmFpbGVkXCIgfSxcclxuICAgICAgICAgIHsgc3RhdHVzOiAyMDAgfVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgcmV0dXJuIHdpdGhDb3JzKHJlc3BvbnNlLCByZXF1ZXN0KTtcclxuICAgICAgfVxyXG5cclxuICAgICAgY29uc3Qgb2NyUmVzdWx0ID0gYXdhaXQgb2NyUmVzcG9uc2UuanNvbigpO1xyXG4gICAgICBjb25zdCBvY3JUZXh0ID0gb2NyUmVzdWx0LnRleHQgfHwgXCJcIjtcclxuICAgICAgb2NyUGFzc2VkID0gb2NyVGV4dC5sZW5ndGggPiAyMDtcclxuICAgICAgXHJcbiAgICAgIGlmICghb2NyUGFzc2VkKSB7XHJcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBOZXh0UmVzcG9uc2UuanNvbihcclxuICAgICAgICAgIHsgb2NyX3Bhc3NlZDogZmFsc2UsIGFnZV9wYXNzZWQ6IGZhbHNlLCBlcnJvcjogXCJDb3VsZCBub3QgZXh0cmFjdCB0ZXh0IGZyb20gSURcIiB9LFxyXG4gICAgICAgICAgeyBzdGF0dXM6IDIwMCB9XHJcbiAgICAgICAgKTtcclxuICAgICAgICByZXR1cm4gd2l0aENvcnMocmVzcG9uc2UsIHJlcXVlc3QpO1xyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICBjb25zdCBkb2JSZXN1bHQgPSBleHRyYWN0RG9iRnJvbU9jclRleHQob2NyVGV4dCk7XHJcbiAgICAgIGZpbmFsQmlydGhEYXRlID0gZG9iUmVzdWx0LmJpcnRoRGF0ZTtcclxuICAgICAgZmluYWxBZ2UgPSBkb2JSZXN1bHQuYWdlO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBOZXh0UmVzcG9uc2UuanNvbihcclxuICAgICAgICB7IGVycm9yOiBcIk1pc3NpbmcgcmVxdWlyZWQgZGF0YTogcHJvdmlkZSBlaXRoZXIgcmF3T2NyVGV4dCtiaXJ0aERhdGUrYWdlIG9yIGlkX3Bob3RvXCIgfSxcclxuICAgICAgICB7IHN0YXR1czogNDAwIH1cclxuICAgICAgKTtcclxuICAgICAgcmV0dXJuIHdpdGhDb3JzKHJlc3BvbnNlLCByZXF1ZXN0KTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBDaGVjayBhZ2UgcmVxdWlyZW1lbnQgKDE5KylcclxuICAgIGlmICghZmluYWxCaXJ0aERhdGUgfHwgZmluYWxBZ2UgPT09IG51bGwgfHwgZmluYWxBZ2UgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICBjb25zdCByZXNwb25zZSA9IE5leHRSZXNwb25zZS5qc29uKFxyXG4gICAgICAgIHsgb2NyX3Bhc3NlZDogb2NyUGFzc2VkLCBhZ2VfcGFzc2VkOiBmYWxzZSwgZXJyb3I6IFwiQ291bGQgbm90IGRldGVybWluZSBkYXRlIG9mIGJpcnRoXCIgfSxcclxuICAgICAgICB7IHN0YXR1czogMjAwIH1cclxuICAgICAgKTtcclxuICAgICAgcmV0dXJuIHdpdGhDb3JzKHJlc3BvbnNlLCByZXF1ZXN0KTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBpc092ZXIxOSA9IGZpbmFsQWdlID49IDE5O1xyXG4gICAgaWYgKCFpc092ZXIxOSkge1xyXG4gICAgICBjb25zdCByZXNwb25zZSA9IE5leHRSZXNwb25zZS5qc29uKFxyXG4gICAgICAgIHsgb2NyX3Bhc3NlZDogdHJ1ZSwgYWdlX3Bhc3NlZDogZmFsc2UsIGFnZTogZmluYWxBZ2UsIGVycm9yOiBgQWdlIHJlcXVpcmVtZW50IG5vdCBtZXQuIE11c3QgYmUgMTkrLCBkZXRlY3RlZCBhZ2U6ICR7ZmluYWxBZ2V9YCB9LFxyXG4gICAgICAgIHsgc3RhdHVzOiAyMDAgfVxyXG4gICAgICApO1xyXG4gICAgICByZXR1cm4gd2l0aENvcnMocmVzcG9uc2UsIHJlcXVlc3QpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIEFnZSB2ZXJpZmllZCEgR2VuZXJhdGUgV2ViQXV0aG4gcmVnaXN0cmF0aW9uIG9wdGlvbnNcclxuICAgIGNvbnNvbGUubG9nKFwiW3ZlcmlmeS9zdGFydF0gQWdlIHZlcmlmaWVkISBHZW5lcmF0aW5nIFdlYkF1dGhuIG9wdGlvbnMuLi5cIik7XHJcbiAgICBjb25zb2xlLmxvZyhcIlt2ZXJpZnkvc3RhcnRdIFdlYkF1dGhuIFJQX0lEOlwiLCBXRUJBVVRITl9SUF9JRCk7XHJcbiAgICBjb25zb2xlLmxvZyhcIlt2ZXJpZnkvc3RhcnRdIFdlYkF1dGhuIFJQX05BTUU6XCIsIFdFQkFVVEhOX1JQX05BTUUpO1xyXG5cclxuICAgIC8vIENyZWF0ZSBhIG5ldyB1c2VyIGZvciB0aGlzIHZlcmlmaWNhdGlvblxyXG4gICAgY29uc3QgdXNlciA9IGF3YWl0IHByaXNtYS51c2VyLmNyZWF0ZSh7XHJcbiAgICAgIGRhdGE6IHt9LFxyXG4gICAgfSk7XHJcblxyXG4gICAgY29uc29sZS5sb2coXCJbdmVyaWZ5L3N0YXJ0XSBDcmVhdGVkIHVzZXI6XCIsIHVzZXIuaWQpO1xyXG5cclxuICAgIC8vIEdldCBhbnkgZXhpc3RpbmcgY3JlZGVudGlhbHMgZm9yIHRoaXMgdXNlciAoZW1wdHkgZm9yIG5ldyB1c2VyKVxyXG4gICAgY29uc3QgZXhpc3RpbmdDcmVkZW50aWFscyA9IGF3YWl0IHByaXNtYS53ZWJBdXRobkNyZWRlbnRpYWwuZmluZE1hbnkoe1xyXG4gICAgICB3aGVyZTogeyB1c2VySWQ6IHVzZXIuaWQgfSxcclxuICAgICAgc2VsZWN0OiB7IGNyZWRlbnRpYWxJZDogdHJ1ZSwgdHJhbnNwb3J0czogdHJ1ZSB9LFxyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gR2VuZXJhdGUgV2ViQXV0aG4gcmVnaXN0cmF0aW9uIG9wdGlvbnNcclxuICAgIGNvbnN0IHJlZ2lzdHJhdGlvbk9wdGlvbnMgPSBhd2FpdCBnZW5lcmF0ZVJlZ2lzdHJhdGlvbk9wdGlvbnMoe1xyXG4gICAgICBycE5hbWU6IFdFQkFVVEhOX1JQX05BTUUsXHJcbiAgICAgIHJwSUQ6IFdFQkFVVEhOX1JQX0lELFxyXG4gICAgICB1c2VySUQ6IHVzZXIuaWQsIC8vIFN0cmluZyB1c2VyIElEXHJcbiAgICAgIHVzZXJOYW1lOiBgdXNlcl8ke3VzZXIuaWQuc2xpY2UoMCwgOCl9YCwgLy8gQW5vbnltb3VzIHVzZXJuYW1lXHJcbiAgICAgIHVzZXJEaXNwbGF5TmFtZTogXCJBZ2UgVmVyaWZpZWQgVXNlclwiLFxyXG4gICAgICBhdHRlc3RhdGlvblR5cGU6IFwibm9uZVwiLCAvLyBXZSBkb24ndCBuZWVkIGF0dGVzdGF0aW9uIGZvciBhZ2UgdmVyaWZpY2F0aW9uXHJcbiAgICAgIGV4Y2x1ZGVDcmVkZW50aWFsczogZXhpc3RpbmdDcmVkZW50aWFscy5tYXAoKGNyZWQ6IHsgY3JlZGVudGlhbElkOiBzdHJpbmc7IHRyYW5zcG9ydHM6IHN0cmluZ1tdIH0pID0+ICh7XHJcbiAgICAgICAgaWQ6IEJ1ZmZlci5mcm9tKGNyZWQuY3JlZGVudGlhbElkLCBcImJhc2U2NHVybFwiKSxcclxuICAgICAgICB0eXBlOiBcInB1YmxpYy1rZXlcIiBhcyBjb25zdCxcclxuICAgICAgICB0cmFuc3BvcnRzOiBjcmVkLnRyYW5zcG9ydHMgYXMgQXV0aGVudGljYXRvclRyYW5zcG9ydFtdLFxyXG4gICAgICB9KSksXHJcbiAgICAgIGF1dGhlbnRpY2F0b3JTZWxlY3Rpb246IHtcclxuICAgICAgICByZXNpZGVudEtleTogXCJwcmVmZXJyZWRcIixcclxuICAgICAgICB1c2VyVmVyaWZpY2F0aW9uOiBcInByZWZlcnJlZFwiLFxyXG4gICAgICAgIGF1dGhlbnRpY2F0b3JBdHRhY2htZW50OiBcInBsYXRmb3JtXCIsIC8vIFByZWZlciBwbGF0Zm9ybSBhdXRoZW50aWNhdG9ycyAoVG91Y2hJRCwgRmFjZUlEKVxyXG4gICAgICB9LFxyXG4gICAgICB0aW1lb3V0OiA2MDAwMCwgLy8gNjAgc2Vjb25kc1xyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gI3JlZ2lvbiBhZ2VudCBsb2dcclxuICAgIHRyeSB7XHJcbiAgICAgIGZzLmFwcGVuZEZpbGVTeW5jKGxvZ1BhdGgsIEpTT04uc3RyaW5naWZ5KHtsb2NhdGlvbjondmVyaWZ5L3N0YXJ0L3JvdXRlLnRzOjE4OCcsbWVzc2FnZTonUmVnaXN0cmF0aW9uIG9wdGlvbnMgZ2VuZXJhdGVkJyxkYXRhOntycElkOldFQkFVVEhOX1JQX0lELHJwTmFtZTpXRUJBVVRITl9SUF9OQU1FLHVzZXJJZDp1c2VyLmlkLGhhc0NoYWxsZW5nZTohIXJlZ2lzdHJhdGlvbk9wdGlvbnMuY2hhbGxlbmdlLGNoYWxsZW5nZUxlbmd0aDpyZWdpc3RyYXRpb25PcHRpb25zLmNoYWxsZW5nZT8ubGVuZ3RoLGF1dGhlbnRpY2F0b3JTZWxlY3Rpb246cmVnaXN0cmF0aW9uT3B0aW9ucy5hdXRoZW50aWNhdG9yU2VsZWN0aW9ufSx0aW1lc3RhbXA6RGF0ZS5ub3coKSxzZXNzaW9uSWQ6J2RlYnVnLXNlc3Npb24nLHJ1bklkOidydW43JyxoeXBvdGhlc2lzSWQ6J0InfSkrJ1xcbicpO1xyXG4gICAgfSBjYXRjaCB7fVxyXG4gICAgLy8gI2VuZHJlZ2lvblxyXG5cclxuICAgIC8vIFN0b3JlIHRoZSBjaGFsbGVuZ2UgaW4gdGhlIGRhdGFiYXNlXHJcbiAgICBjb25zdCBleHBpcmVzQXQgPSBuZXcgRGF0ZShEYXRlLm5vdygpICsgQ0hBTExFTkdFX1RUTF9NUyk7XHJcbiAgICBhd2FpdCBwcmlzbWEud2ViQXV0aG5DaGFsbGVuZ2UuY3JlYXRlKHtcclxuICAgICAgZGF0YToge1xyXG4gICAgICAgIHVzZXJJZDogdXNlci5pZCxcclxuICAgICAgICBjaGFsbGVuZ2U6IHJlZ2lzdHJhdGlvbk9wdGlvbnMuY2hhbGxlbmdlLFxyXG4gICAgICAgIHR5cGU6IFwicmVnaXN0cmF0aW9uXCIsXHJcbiAgICAgICAgZXhwaXJlc0F0LFxyXG4gICAgICB9LFxyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gI3JlZ2lvbiBhZ2VudCBsb2dcclxuICAgIHRyeSB7XHJcbiAgICAgIGZzLmFwcGVuZEZpbGVTeW5jKGxvZ1BhdGgsIEpTT04uc3RyaW5naWZ5KHtsb2NhdGlvbjondmVyaWZ5L3N0YXJ0L3JvdXRlLnRzOjE5OScsbWVzc2FnZTonQ2hhbGxlbmdlIHN0b3JlZCBpbiBkYXRhYmFzZScsZGF0YTp7dXNlcklkOnVzZXIuaWQsY2hhbGxlbmdlOnJlZ2lzdHJhdGlvbk9wdGlvbnMuY2hhbGxlbmdlLGV4cGlyZXNBdDpleHBpcmVzQXQudG9JU09TdHJpbmcoKX0sdGltZXN0YW1wOkRhdGUubm93KCksc2Vzc2lvbklkOidkZWJ1Zy1zZXNzaW9uJyxydW5JZDoncnVuNycsaHlwb3RoZXNpc0lkOidEJ30pKydcXG4nKTtcclxuICAgIH0gY2F0Y2gge31cclxuICAgIC8vICNlbmRyZWdpb25cclxuXHJcbiAgICBjb25zb2xlLmxvZyhcIlt2ZXJpZnkvc3RhcnRdIENoYWxsZW5nZSBzdG9yZWQsIHJldHVybmluZyByZWdpc3RyYXRpb24gb3B0aW9uc1wiKTtcclxuXHJcbiAgICAvLyBSZXR1cm4gc3VjY2VzcyB3aXRoIHJlZ2lzdHJhdGlvbiBvcHRpb25zXHJcbiAgICBjb25zdCByZXNwb25zZSA9IE5leHRSZXNwb25zZS5qc29uKHtcclxuICAgICAgb2NyX3Bhc3NlZDogdHJ1ZSxcclxuICAgICAgYWdlX3Bhc3NlZDogdHJ1ZSxcclxuICAgICAgYWdlOiBmaW5hbEFnZSxcclxuICAgICAgYmlydGhEYXRlOiBmaW5hbEJpcnRoRGF0ZSxcclxuICAgICAgdXNlcklkOiB1c2VyLmlkLFxyXG4gICAgICBjaGFsbGVuZ2U6IHJlZ2lzdHJhdGlvbk9wdGlvbnMuY2hhbGxlbmdlLFxyXG4gICAgICByZWdpc3RyYXRpb25PcHRpb25zLFxyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gd2l0aENvcnMocmVzcG9uc2UsIHJlcXVlc3QpO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKFwiW3ZlcmlmeS9zdGFydF0gRXJyb3I6XCIsIGVycm9yKTtcclxuICAgIGNvbnN0IHJlc3BvbnNlID0gTmV4dFJlc3BvbnNlLmpzb24oXHJcbiAgICAgIHsgZXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogXCJWZXJpZmljYXRpb24gZmFpbGVkXCIgfSxcclxuICAgICAgeyBzdGF0dXM6IDUwMCB9XHJcbiAgICApO1xyXG4gICAgcmV0dXJuIHdpdGhDb3JzKHJlc3BvbnNlLCByZXF1ZXN0KTtcclxuICB9XHJcbn1cclxuIl0sIm5hbWVzIjpbIk5leHRSZXNwb25zZSIsImdlbmVyYXRlUmVnaXN0cmF0aW9uT3B0aW9ucyIsInByaXNtYSIsImhhbmRsZUNvcnNPcHRpb25zIiwid2l0aENvcnMiLCJleHRyYWN0RG9iRnJvbU9jclRleHQiLCJydW50aW1lIiwiV0VCQVVUSE5fUlBfSUQiLCJwcm9jZXNzIiwiZW52IiwiV0VCQVVUSE5fUlBfTkFNRSIsIkNIQUxMRU5HRV9UVExfTVMiLCJPUFRJT05TIiwicmVxdWVzdCIsIlBPU1QiLCJmcyIsInJlcXVpcmUiLCJsb2dQYXRoIiwiYXBwZW5kRmlsZVN5bmMiLCJKU09OIiwic3RyaW5naWZ5IiwibG9jYXRpb24iLCJtZXNzYWdlIiwiZGF0YSIsInRpbWVzdGFtcCIsIkRhdGUiLCJub3ciLCJzZXNzaW9uSWQiLCJydW5JZCIsImh5cG90aGVzaXNJZCIsImJvZHkiLCJqc29uIiwicmF3T2NyVGV4dCIsImJpcnRoRGF0ZSIsImFnZSIsImZhY2VNYXRjaENvbmZpZGVuY2UiLCJpZF9waG90byIsImhhc1Jhd09jclRleHQiLCJoYXNCaXJ0aERhdGUiLCJoYXNJZFBob3RvIiwiY29uc29sZSIsImxvZyIsImZpbmFsQmlydGhEYXRlIiwiZmluYWxBZ2UiLCJvY3JQYXNzZWQiLCJyYXdPY3JUZXh0TGVuZ3RoIiwibGVuZ3RoIiwicmF3T2NyVGV4dFByZXZpZXciLCJzdWJzdHJpbmciLCJjbGllbnRCaXJ0aERhdGUiLCJjbGllbnRBZ2UiLCJkb2JSZXN1bHQiLCJzZXJ2ZXJCaXJ0aERhdGUiLCJzZXJ2ZXJBZ2UiLCJoYXNSYXdNYXRjaCIsInJhd01hdGNoIiwiY2xpZW50RG9iVmFsaWQiLCJ0ZXN0Iiwib2NyVGV4dExlbmd0aCIsInJlc3BvbnNlIiwib2NyX3Bhc3NlZCIsImFnZV9wYXNzZWQiLCJlcnJvciIsInN0YXR1cyIsIm9jclVybCIsIlVSTCIsIm5leHRVcmwiLCJvcmlnaW4iLCJvY3JSZXNwb25zZSIsImZldGNoIiwidG9TdHJpbmciLCJtZXRob2QiLCJoZWFkZXJzIiwiaW1hZ2VEYXRhIiwib2siLCJvY3JSZXN1bHQiLCJvY3JUZXh0IiwidGV4dCIsInVuZGVmaW5lZCIsImlzT3ZlcjE5IiwidXNlciIsImNyZWF0ZSIsImlkIiwiZXhpc3RpbmdDcmVkZW50aWFscyIsIndlYkF1dGhuQ3JlZGVudGlhbCIsImZpbmRNYW55Iiwid2hlcmUiLCJ1c2VySWQiLCJzZWxlY3QiLCJjcmVkZW50aWFsSWQiLCJ0cmFuc3BvcnRzIiwicmVnaXN0cmF0aW9uT3B0aW9ucyIsInJwTmFtZSIsInJwSUQiLCJ1c2VySUQiLCJ1c2VyTmFtZSIsInNsaWNlIiwidXNlckRpc3BsYXlOYW1lIiwiYXR0ZXN0YXRpb25UeXBlIiwiZXhjbHVkZUNyZWRlbnRpYWxzIiwibWFwIiwiY3JlZCIsIkJ1ZmZlciIsImZyb20iLCJ0eXBlIiwiYXV0aGVudGljYXRvclNlbGVjdGlvbiIsInJlc2lkZW50S2V5IiwidXNlclZlcmlmaWNhdGlvbiIsImF1dGhlbnRpY2F0b3JBdHRhY2htZW50IiwidGltZW91dCIsInJwSWQiLCJoYXNDaGFsbGVuZ2UiLCJjaGFsbGVuZ2UiLCJjaGFsbGVuZ2VMZW5ndGgiLCJleHBpcmVzQXQiLCJ3ZWJBdXRobkNoYWxsZW5nZSIsInRvSVNPU3RyaW5nIiwiRXJyb3IiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/verify/start/route.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/server/cors.ts":
/*!********************************!*\
  !*** ./src/lib/server/cors.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getCorsHeaders: () => (/* binding */ getCorsHeaders),\n/* harmony export */   handleCorsOptions: () => (/* binding */ handleCorsOptions),\n/* harmony export */   withCors: () => (/* binding */ withCors)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n\n/**\r\n * CORS headers for cross-origin requests from the frontend (Vercel) to backend (Railway/Render)\r\n */ function getCorsHeaders(request) {\n    // Allow the Vercel frontend origin, or * in development\n    const allowedOrigin = process.env.WEBAUTHN_ORIGIN || // Production: set to your Vercel app origin\n    request.headers.get(\"origin\") || // Development: echo the origin\n    \"*\";\n    return {\n        \"Access-Control-Allow-Origin\": allowedOrigin,\n        \"Access-Control-Allow-Methods\": \"GET, POST, OPTIONS\",\n        \"Access-Control-Allow-Headers\": \"Content-Type, Authorization\",\n        \"Access-Control-Max-Age\": \"86400\"\n    };\n}\n/**\r\n * Handle OPTIONS preflight requests for CORS\r\n */ function handleCorsOptions(request) {\n    return new next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse(null, {\n        status: 204,\n        headers: getCorsHeaders(request)\n    });\n}\n/**\r\n * Add CORS headers to an existing response\r\n */ function withCors(response, request) {\n    const corsHeaders = getCorsHeaders(request);\n    Object.entries(corsHeaders).forEach(([key, value])=>{\n        response.headers.set(key, value);\n    });\n    return response;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL3NlcnZlci9jb3JzLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBd0Q7QUFFeEQ7O0NBRUMsR0FDTSxTQUFTQyxlQUFlQyxPQUFvQjtJQUNqRCx3REFBd0Q7SUFDeEQsTUFBTUMsZ0JBQ0pDLFFBQVFDLEdBQUcsQ0FBQ0MsZUFBZSxJQUFJLDRDQUE0QztJQUMzRUosUUFBUUssT0FBTyxDQUFDQyxHQUFHLENBQUMsYUFBYSwrQkFBK0I7SUFDaEU7SUFFRixPQUFPO1FBQ0wsK0JBQStCTDtRQUMvQixnQ0FBZ0M7UUFDaEMsZ0NBQWdDO1FBQ2hDLDBCQUEwQjtJQUM1QjtBQUNGO0FBRUE7O0NBRUMsR0FDTSxTQUFTTSxrQkFBa0JQLE9BQW9CO0lBQ3BELE9BQU8sSUFBSUYscURBQVlBLENBQUMsTUFBTTtRQUM1QlUsUUFBUTtRQUNSSCxTQUFTTixlQUFlQztJQUMxQjtBQUNGO0FBRUE7O0NBRUMsR0FDTSxTQUFTUyxTQUFTQyxRQUFzQixFQUFFVixPQUFvQjtJQUNuRSxNQUFNVyxjQUFjWixlQUFlQztJQUNuQ1ksT0FBT0MsT0FBTyxDQUFDRixhQUFhRyxPQUFPLENBQUMsQ0FBQyxDQUFDQyxLQUFLQyxNQUFNO1FBQy9DTixTQUFTTCxPQUFPLENBQUNZLEdBQUcsQ0FBQ0YsS0FBS0M7SUFDNUI7SUFDQSxPQUFPTjtBQUNUIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc2R1YXJmLy4vc3JjL2xpYi9zZXJ2ZXIvY29ycy50cz8wZThhIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5leHRSZXF1ZXN0LCBOZXh0UmVzcG9uc2UgfSBmcm9tIFwibmV4dC9zZXJ2ZXJcIjtcclxuXHJcbi8qKlxyXG4gKiBDT1JTIGhlYWRlcnMgZm9yIGNyb3NzLW9yaWdpbiByZXF1ZXN0cyBmcm9tIHRoZSBmcm9udGVuZCAoVmVyY2VsKSB0byBiYWNrZW5kIChSYWlsd2F5L1JlbmRlcilcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRDb3JzSGVhZGVycyhyZXF1ZXN0OiBOZXh0UmVxdWVzdCk6IEhlYWRlcnNJbml0IHtcclxuICAvLyBBbGxvdyB0aGUgVmVyY2VsIGZyb250ZW5kIG9yaWdpbiwgb3IgKiBpbiBkZXZlbG9wbWVudFxyXG4gIGNvbnN0IGFsbG93ZWRPcmlnaW4gPVxyXG4gICAgcHJvY2Vzcy5lbnYuV0VCQVVUSE5fT1JJR0lOIHx8IC8vIFByb2R1Y3Rpb246IHNldCB0byB5b3VyIFZlcmNlbCBhcHAgb3JpZ2luXHJcbiAgICByZXF1ZXN0LmhlYWRlcnMuZ2V0KFwib3JpZ2luXCIpIHx8IC8vIERldmVsb3BtZW50OiBlY2hvIHRoZSBvcmlnaW5cclxuICAgIFwiKlwiO1xyXG5cclxuICByZXR1cm4ge1xyXG4gICAgXCJBY2Nlc3MtQ29udHJvbC1BbGxvdy1PcmlnaW5cIjogYWxsb3dlZE9yaWdpbixcclxuICAgIFwiQWNjZXNzLUNvbnRyb2wtQWxsb3ctTWV0aG9kc1wiOiBcIkdFVCwgUE9TVCwgT1BUSU9OU1wiLFxyXG4gICAgXCJBY2Nlc3MtQ29udHJvbC1BbGxvdy1IZWFkZXJzXCI6IFwiQ29udGVudC1UeXBlLCBBdXRob3JpemF0aW9uXCIsXHJcbiAgICBcIkFjY2Vzcy1Db250cm9sLU1heC1BZ2VcIjogXCI4NjQwMFwiLCAvLyBDYWNoZSBwcmVmbGlnaHQgZm9yIDI0IGhvdXJzXHJcbiAgfTtcclxufVxyXG5cclxuLyoqXHJcbiAqIEhhbmRsZSBPUFRJT05TIHByZWZsaWdodCByZXF1ZXN0cyBmb3IgQ09SU1xyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGhhbmRsZUNvcnNPcHRpb25zKHJlcXVlc3Q6IE5leHRSZXF1ZXN0KTogTmV4dFJlc3BvbnNlIHtcclxuICByZXR1cm4gbmV3IE5leHRSZXNwb25zZShudWxsLCB7XHJcbiAgICBzdGF0dXM6IDIwNCxcclxuICAgIGhlYWRlcnM6IGdldENvcnNIZWFkZXJzKHJlcXVlc3QpLFxyXG4gIH0pO1xyXG59XHJcblxyXG4vKipcclxuICogQWRkIENPUlMgaGVhZGVycyB0byBhbiBleGlzdGluZyByZXNwb25zZVxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIHdpdGhDb3JzKHJlc3BvbnNlOiBOZXh0UmVzcG9uc2UsIHJlcXVlc3Q6IE5leHRSZXF1ZXN0KTogTmV4dFJlc3BvbnNlIHtcclxuICBjb25zdCBjb3JzSGVhZGVycyA9IGdldENvcnNIZWFkZXJzKHJlcXVlc3QpO1xyXG4gIE9iamVjdC5lbnRyaWVzKGNvcnNIZWFkZXJzKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcclxuICAgIHJlc3BvbnNlLmhlYWRlcnMuc2V0KGtleSwgdmFsdWUpO1xyXG4gIH0pO1xyXG4gIHJldHVybiByZXNwb25zZTtcclxufVxyXG4iXSwibmFtZXMiOlsiTmV4dFJlc3BvbnNlIiwiZ2V0Q29yc0hlYWRlcnMiLCJyZXF1ZXN0IiwiYWxsb3dlZE9yaWdpbiIsInByb2Nlc3MiLCJlbnYiLCJXRUJBVVRITl9PUklHSU4iLCJoZWFkZXJzIiwiZ2V0IiwiaGFuZGxlQ29yc09wdGlvbnMiLCJzdGF0dXMiLCJ3aXRoQ29ycyIsInJlc3BvbnNlIiwiY29yc0hlYWRlcnMiLCJPYmplY3QiLCJlbnRyaWVzIiwiZm9yRWFjaCIsImtleSIsInZhbHVlIiwic2V0Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/server/cors.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/server/dobExtractor.ts":
/*!****************************************!*\
  !*** ./src/lib/server/dobExtractor.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   calculateAge: () => (/* binding */ calculateAge),\n/* harmony export */   extractDobFromOcrText: () => (/* binding */ extractDobFromOcrText)\n/* harmony export */ });\n/**\r\n * Server-side DOB extraction from OCR text\r\n * Extracts and validates date of birth, calculates age\r\n */ /**\r\n * Extract DOB from OCR text and calculate age\r\n * Prioritizes explicitly labeled DOB patterns over generic date patterns\r\n */ function extractDobFromOcrText(ocrText) {\n    const result = {\n        birthDate: null,\n        age: null,\n        isOver19: false,\n        rawMatch: null\n    };\n    // Try labeled patterns first (DOB:, Date of Birth, etc.)\n    const labeledDate = extractLabeledDob(ocrText);\n    if (labeledDate) {\n        result.birthDate = labeledDate.isoDate;\n        result.rawMatch = labeledDate.rawMatch;\n    } else {\n        // Fall back to birth-year heuristic (years 1940-2010)\n        const birthYearDate = extractBirthYearDate(ocrText);\n        if (birthYearDate) {\n            result.birthDate = birthYearDate.isoDate;\n            result.rawMatch = birthYearDate.rawMatch;\n        }\n    }\n    if (result.birthDate) {\n        result.age = calculateAge(result.birthDate);\n        result.isOver19 = result.age !== null && result.age >= 19;\n    }\n    return result;\n}\n/**\r\n * Look for explicitly labeled DOB patterns\r\n */ function extractLabeledDob(text) {\n    // Pattern: DOB/BIRTH followed by date\n    const patterns = [\n        // YYYY/MM/DD or YYYY-MM-DD format\n        /(?:DOB|BIRTH|DATE\\s*OF\\s*BIRTH)\\s*[:\\-]?\\s*(\\d{4})[\\/\\-\\.](\\d{2})[\\/\\-\\.](\\d{2})/i,\n        // MM/DD/YYYY or MM-DD-YYYY format\n        /(?:DOB|BIRTH|DATE\\s*OF\\s*BIRTH)\\s*[:\\-]?\\s*(\\d{2})[\\/\\-\\.](\\d{2})[\\/\\-\\.](\\d{4})/i,\n        // DD/MM/YYYY format (less common in Canada but check)\n        /(?:DOB|BIRTH)\\s*[:\\-]?\\s*(\\d{2})[\\/\\-\\.](\\d{2})[\\/\\-\\.](\\d{4})/i\n    ];\n    for (const pattern of patterns){\n        const match = text.match(pattern);\n        if (match) {\n            const rawMatch = match[0];\n            // Determine format based on which pattern matched\n            if (pattern.source.includes(\"(\\\\d{4})[\") && match[1].length === 4) {\n                // YYYY/MM/DD format\n                const [, year, month, day] = match;\n                const isoDate = `${year}-${month}-${day}`;\n                if (isValidDate(isoDate)) {\n                    return {\n                        isoDate,\n                        rawMatch\n                    };\n                }\n            } else if (match[3]?.length === 4) {\n                // MM/DD/YYYY or DD/MM/YYYY format\n                const [, first, second, year] = match;\n                // Try MM/DD first (US/Canada standard)\n                let isoDate = `${year}-${first}-${second}`;\n                if (isValidDate(isoDate)) {\n                    return {\n                        isoDate,\n                        rawMatch\n                    };\n                }\n                // Try DD/MM\n                isoDate = `${year}-${second}-${first}`;\n                if (isValidDate(isoDate)) {\n                    return {\n                        isoDate,\n                        rawMatch\n                    };\n                }\n            }\n        }\n    }\n    return null;\n}\n/**\r\n * Extract dates with birth-plausible years (1940-2010)\r\n * Falls back when DOB label is garbled but year is readable\r\n */ function extractBirthYearDate(text) {\n    // Match dates where year is between 1940-2010 (reasonable birth years for 19+)\n    const patterns = [\n        // YYYY/MM/DD format with birth-plausible year\n        /\\b(19[4-9]\\d|200\\d|2010)[\\/\\-\\.](\\d{2})[\\/\\-\\.](\\d{2})\\b/g,\n        // MM/DD/YYYY format with birth-plausible year\n        /\\b(\\d{2})[\\/\\-\\.](\\d{2})[\\/\\-\\.](19[4-9]\\d|200\\d|2010)\\b/g\n    ];\n    // First pattern: YYYY/MM/DD\n    const firstPattern = patterns[0];\n    let match = firstPattern.exec(text);\n    if (match) {\n        const [rawMatch, year, month, day] = match;\n        const isoDate = `${year}-${month}-${day}`;\n        if (isValidDate(isoDate) && isBirthPlausible(isoDate)) {\n            return {\n                isoDate,\n                rawMatch\n            };\n        }\n    }\n    // Second pattern: MM/DD/YYYY\n    const secondPattern = patterns[1];\n    match = secondPattern.exec(text);\n    if (match) {\n        const [rawMatch, first, second, year] = match;\n        // Try MM/DD first\n        let isoDate = `${year}-${first}-${second}`;\n        if (isValidDate(isoDate) && isBirthPlausible(isoDate)) {\n            return {\n                isoDate,\n                rawMatch\n            };\n        }\n        // Try DD/MM\n        isoDate = `${year}-${second}-${first}`;\n        if (isValidDate(isoDate) && isBirthPlausible(isoDate)) {\n            return {\n                isoDate,\n                rawMatch\n            };\n        }\n    }\n    return null;\n}\n/**\r\n * Validate ISO date string is a real date\r\n */ function isValidDate(isoDate) {\n    const date = new Date(isoDate);\n    if (isNaN(date.getTime())) return false;\n    // Check that parsing didn't shift the date (e.g., Feb 31 -> Mar 3)\n    const [year, month, day] = isoDate.split(\"-\").map(Number);\n    return date.getFullYear() === year && date.getMonth() === month - 1 && date.getDate() === day;\n}\n/**\r\n * Check if date could plausibly be a birth date (person would be 14-100 years old)\r\n */ function isBirthPlausible(isoDate) {\n    const age = calculateAge(isoDate);\n    return age !== null && age >= 14 && age <= 100;\n}\n/**\r\n * Calculate age from ISO date string\r\n */ function calculateAge(birthDate) {\n    const birth = new Date(birthDate);\n    if (isNaN(birth.getTime())) return null;\n    const today = new Date();\n    let age = today.getFullYear() - birth.getFullYear();\n    // Adjust if birthday hasn't occurred yet this year\n    const monthDiff = today.getMonth() - birth.getMonth();\n    if (monthDiff < 0 || monthDiff === 0 && today.getDate() < birth.getDate()) {\n        age--;\n    }\n    return age;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RXZCO0FBRUE7O0NBRUMsR0FDRCxTQUFTTSxpQkFBaUJuQixPQUFlO0lBQ3ZDLE1BQU1MLE1BQU1RLGFBQWFIO0lBQ3pCLE9BQU9MLFFBQVEsUUFBUUEsT0FBTyxNQUFNQSxPQUFPO0FBQzdDO0FBRUE7O0NBRUMsR0FDTSxTQUFTUSxhQUFhVCxTQUFpQjtJQUM1QyxNQUFNcUMsUUFBUSxJQUFJVCxLQUFLNUI7SUFDdkIsSUFBSTZCLE1BQU1RLE1BQU1QLE9BQU8sS0FBSyxPQUFPO0lBRW5DLE1BQU1RLFFBQVEsSUFBSVY7SUFDbEIsSUFBSTNCLE1BQU1xQyxNQUFNSixXQUFXLEtBQUtHLE1BQU1ILFdBQVc7SUFFakQsbURBQW1EO0lBQ25ELE1BQU1LLFlBQVlELE1BQU1ILFFBQVEsS0FBS0UsTUFBTUYsUUFBUTtJQUNuRCxJQUFJSSxZQUFZLEtBQU1BLGNBQWMsS0FBS0QsTUFBTUYsT0FBTyxLQUFLQyxNQUFNRCxPQUFPLElBQUs7UUFDM0VuQztJQUNGO0lBRUEsT0FBT0E7QUFDVCIsInNvdXJjZXMiOlsid2VicGFjazovL3NkdWFyZi8uL3NyYy9saWIvc2VydmVyL2RvYkV4dHJhY3Rvci50cz8yMWEwIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBTZXJ2ZXItc2lkZSBET0IgZXh0cmFjdGlvbiBmcm9tIE9DUiB0ZXh0XHJcbiAqIEV4dHJhY3RzIGFuZCB2YWxpZGF0ZXMgZGF0ZSBvZiBiaXJ0aCwgY2FsY3VsYXRlcyBhZ2VcclxuICovXHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIERvYkV4dHJhY3Rpb25SZXN1bHQge1xyXG4gIGJpcnRoRGF0ZTogc3RyaW5nIHwgbnVsbDsgLy8gWVlZWS1NTS1ERCBmb3JtYXRcclxuICBhZ2U6IG51bWJlciB8IG51bGw7XHJcbiAgaXNPdmVyMTk6IGJvb2xlYW47XHJcbiAgcmF3TWF0Y2g6IHN0cmluZyB8IG51bGw7IC8vIFRoZSByYXcgbWF0Y2hlZCBkYXRlIHN0cmluZ1xyXG59XHJcblxyXG4vKipcclxuICogRXh0cmFjdCBET0IgZnJvbSBPQ1IgdGV4dCBhbmQgY2FsY3VsYXRlIGFnZVxyXG4gKiBQcmlvcml0aXplcyBleHBsaWNpdGx5IGxhYmVsZWQgRE9CIHBhdHRlcm5zIG92ZXIgZ2VuZXJpYyBkYXRlIHBhdHRlcm5zXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gZXh0cmFjdERvYkZyb21PY3JUZXh0KG9jclRleHQ6IHN0cmluZyk6IERvYkV4dHJhY3Rpb25SZXN1bHQge1xyXG4gIGNvbnN0IHJlc3VsdDogRG9iRXh0cmFjdGlvblJlc3VsdCA9IHtcclxuICAgIGJpcnRoRGF0ZTogbnVsbCxcclxuICAgIGFnZTogbnVsbCxcclxuICAgIGlzT3ZlcjE5OiBmYWxzZSxcclxuICAgIHJhd01hdGNoOiBudWxsLFxyXG4gIH07XHJcblxyXG4gIC8vIFRyeSBsYWJlbGVkIHBhdHRlcm5zIGZpcnN0IChET0I6LCBEYXRlIG9mIEJpcnRoLCBldGMuKVxyXG4gIGNvbnN0IGxhYmVsZWREYXRlID0gZXh0cmFjdExhYmVsZWREb2Iob2NyVGV4dCk7XHJcbiAgaWYgKGxhYmVsZWREYXRlKSB7XHJcbiAgICByZXN1bHQuYmlydGhEYXRlID0gbGFiZWxlZERhdGUuaXNvRGF0ZTtcclxuICAgIHJlc3VsdC5yYXdNYXRjaCA9IGxhYmVsZWREYXRlLnJhd01hdGNoO1xyXG4gIH0gZWxzZSB7XHJcbiAgICAvLyBGYWxsIGJhY2sgdG8gYmlydGgteWVhciBoZXVyaXN0aWMgKHllYXJzIDE5NDAtMjAxMClcclxuICAgIGNvbnN0IGJpcnRoWWVhckRhdGUgPSBleHRyYWN0QmlydGhZZWFyRGF0ZShvY3JUZXh0KTtcclxuICAgIGlmIChiaXJ0aFllYXJEYXRlKSB7XHJcbiAgICAgIHJlc3VsdC5iaXJ0aERhdGUgPSBiaXJ0aFllYXJEYXRlLmlzb0RhdGU7XHJcbiAgICAgIHJlc3VsdC5yYXdNYXRjaCA9IGJpcnRoWWVhckRhdGUucmF3TWF0Y2g7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBpZiAocmVzdWx0LmJpcnRoRGF0ZSkge1xyXG4gICAgcmVzdWx0LmFnZSA9IGNhbGN1bGF0ZUFnZShyZXN1bHQuYmlydGhEYXRlKTtcclxuICAgIHJlc3VsdC5pc092ZXIxOSA9IHJlc3VsdC5hZ2UgIT09IG51bGwgJiYgcmVzdWx0LmFnZSA+PSAxOTtcclxuICB9XHJcblxyXG4gIHJldHVybiByZXN1bHQ7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBMb29rIGZvciBleHBsaWNpdGx5IGxhYmVsZWQgRE9CIHBhdHRlcm5zXHJcbiAqL1xyXG5mdW5jdGlvbiBleHRyYWN0TGFiZWxlZERvYihcclxuICB0ZXh0OiBzdHJpbmdcclxuKTogeyBpc29EYXRlOiBzdHJpbmc7IHJhd01hdGNoOiBzdHJpbmcgfSB8IG51bGwge1xyXG4gIC8vIFBhdHRlcm46IERPQi9CSVJUSCBmb2xsb3dlZCBieSBkYXRlXHJcbiAgY29uc3QgcGF0dGVybnMgPSBbXHJcbiAgICAvLyBZWVlZL01NL0REIG9yIFlZWVktTU0tREQgZm9ybWF0XHJcbiAgICAvKD86RE9CfEJJUlRIfERBVEVcXHMqT0ZcXHMqQklSVEgpXFxzKls6XFwtXT9cXHMqKFxcZHs0fSlbXFwvXFwtXFwuXShcXGR7Mn0pW1xcL1xcLVxcLl0oXFxkezJ9KS9pLFxyXG4gICAgLy8gTU0vREQvWVlZWSBvciBNTS1ERC1ZWVlZIGZvcm1hdFxyXG4gICAgLyg/OkRPQnxCSVJUSHxEQVRFXFxzKk9GXFxzKkJJUlRIKVxccypbOlxcLV0/XFxzKihcXGR7Mn0pW1xcL1xcLVxcLl0oXFxkezJ9KVtcXC9cXC1cXC5dKFxcZHs0fSkvaSxcclxuICAgIC8vIEREL01NL1lZWVkgZm9ybWF0IChsZXNzIGNvbW1vbiBpbiBDYW5hZGEgYnV0IGNoZWNrKVxyXG4gICAgLyg/OkRPQnxCSVJUSClcXHMqWzpcXC1dP1xccyooXFxkezJ9KVtcXC9cXC1cXC5dKFxcZHsyfSlbXFwvXFwtXFwuXShcXGR7NH0pL2ksXHJcbiAgXTtcclxuXHJcbiAgZm9yIChjb25zdCBwYXR0ZXJuIG9mIHBhdHRlcm5zKSB7XHJcbiAgICBjb25zdCBtYXRjaCA9IHRleHQubWF0Y2gocGF0dGVybik7XHJcbiAgICBpZiAobWF0Y2gpIHtcclxuICAgICAgY29uc3QgcmF3TWF0Y2ggPSBtYXRjaFswXTtcclxuXHJcbiAgICAgIC8vIERldGVybWluZSBmb3JtYXQgYmFzZWQgb24gd2hpY2ggcGF0dGVybiBtYXRjaGVkXHJcbiAgICAgIGlmIChwYXR0ZXJuLnNvdXJjZS5pbmNsdWRlcyhcIihcXFxcZHs0fSlbXCIpICYmIG1hdGNoWzFdLmxlbmd0aCA9PT0gNCkge1xyXG4gICAgICAgIC8vIFlZWVkvTU0vREQgZm9ybWF0XHJcbiAgICAgICAgY29uc3QgWywgeWVhciwgbW9udGgsIGRheV0gPSBtYXRjaDtcclxuICAgICAgICBjb25zdCBpc29EYXRlID0gYCR7eWVhcn0tJHttb250aH0tJHtkYXl9YDtcclxuICAgICAgICBpZiAoaXNWYWxpZERhdGUoaXNvRGF0ZSkpIHtcclxuICAgICAgICAgIHJldHVybiB7IGlzb0RhdGUsIHJhd01hdGNoIH07XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGVsc2UgaWYgKG1hdGNoWzNdPy5sZW5ndGggPT09IDQpIHtcclxuICAgICAgICAvLyBNTS9ERC9ZWVlZIG9yIEREL01NL1lZWVkgZm9ybWF0XHJcbiAgICAgICAgY29uc3QgWywgZmlyc3QsIHNlY29uZCwgeWVhcl0gPSBtYXRjaDtcclxuICAgICAgICAvLyBUcnkgTU0vREQgZmlyc3QgKFVTL0NhbmFkYSBzdGFuZGFyZClcclxuICAgICAgICBsZXQgaXNvRGF0ZSA9IGAke3llYXJ9LSR7Zmlyc3R9LSR7c2Vjb25kfWA7XHJcbiAgICAgICAgaWYgKGlzVmFsaWREYXRlKGlzb0RhdGUpKSB7XHJcbiAgICAgICAgICByZXR1cm4geyBpc29EYXRlLCByYXdNYXRjaCB9O1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBUcnkgREQvTU1cclxuICAgICAgICBpc29EYXRlID0gYCR7eWVhcn0tJHtzZWNvbmR9LSR7Zmlyc3R9YDtcclxuICAgICAgICBpZiAoaXNWYWxpZERhdGUoaXNvRGF0ZSkpIHtcclxuICAgICAgICAgIHJldHVybiB7IGlzb0RhdGUsIHJhd01hdGNoIH07XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICByZXR1cm4gbnVsbDtcclxufVxyXG5cclxuLyoqXHJcbiAqIEV4dHJhY3QgZGF0ZXMgd2l0aCBiaXJ0aC1wbGF1c2libGUgeWVhcnMgKDE5NDAtMjAxMClcclxuICogRmFsbHMgYmFjayB3aGVuIERPQiBsYWJlbCBpcyBnYXJibGVkIGJ1dCB5ZWFyIGlzIHJlYWRhYmxlXHJcbiAqL1xyXG5mdW5jdGlvbiBleHRyYWN0QmlydGhZZWFyRGF0ZShcclxuICB0ZXh0OiBzdHJpbmdcclxuKTogeyBpc29EYXRlOiBzdHJpbmc7IHJhd01hdGNoOiBzdHJpbmcgfSB8IG51bGwge1xyXG4gIC8vIE1hdGNoIGRhdGVzIHdoZXJlIHllYXIgaXMgYmV0d2VlbiAxOTQwLTIwMTAgKHJlYXNvbmFibGUgYmlydGggeWVhcnMgZm9yIDE5KylcclxuICBjb25zdCBwYXR0ZXJucyA9IFtcclxuICAgIC8vIFlZWVkvTU0vREQgZm9ybWF0IHdpdGggYmlydGgtcGxhdXNpYmxlIHllYXJcclxuICAgIC9cXGIoMTlbNC05XVxcZHwyMDBcXGR8MjAxMClbXFwvXFwtXFwuXShcXGR7Mn0pW1xcL1xcLVxcLl0oXFxkezJ9KVxcYi9nLFxyXG4gICAgLy8gTU0vREQvWVlZWSBmb3JtYXQgd2l0aCBiaXJ0aC1wbGF1c2libGUgeWVhclxyXG4gICAgL1xcYihcXGR7Mn0pW1xcL1xcLVxcLl0oXFxkezJ9KVtcXC9cXC1cXC5dKDE5WzQtOV1cXGR8MjAwXFxkfDIwMTApXFxiL2csXHJcbiAgXTtcclxuXHJcbiAgLy8gRmlyc3QgcGF0dGVybjogWVlZWS9NTS9ERFxyXG4gIGNvbnN0IGZpcnN0UGF0dGVybiA9IHBhdHRlcm5zWzBdO1xyXG4gIGxldCBtYXRjaCA9IGZpcnN0UGF0dGVybi5leGVjKHRleHQpO1xyXG4gIGlmIChtYXRjaCkge1xyXG4gICAgY29uc3QgW3Jhd01hdGNoLCB5ZWFyLCBtb250aCwgZGF5XSA9IG1hdGNoO1xyXG4gICAgY29uc3QgaXNvRGF0ZSA9IGAke3llYXJ9LSR7bW9udGh9LSR7ZGF5fWA7XHJcbiAgICBpZiAoaXNWYWxpZERhdGUoaXNvRGF0ZSkgJiYgaXNCaXJ0aFBsYXVzaWJsZShpc29EYXRlKSkge1xyXG4gICAgICByZXR1cm4geyBpc29EYXRlLCByYXdNYXRjaCB9O1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8gU2Vjb25kIHBhdHRlcm46IE1NL0REL1lZWVlcclxuICBjb25zdCBzZWNvbmRQYXR0ZXJuID0gcGF0dGVybnNbMV07XHJcbiAgbWF0Y2ggPSBzZWNvbmRQYXR0ZXJuLmV4ZWModGV4dCk7XHJcbiAgaWYgKG1hdGNoKSB7XHJcbiAgICBjb25zdCBbcmF3TWF0Y2gsIGZpcnN0LCBzZWNvbmQsIHllYXJdID0gbWF0Y2g7XHJcbiAgICAvLyBUcnkgTU0vREQgZmlyc3RcclxuICAgIGxldCBpc29EYXRlID0gYCR7eWVhcn0tJHtmaXJzdH0tJHtzZWNvbmR9YDtcclxuICAgIGlmIChpc1ZhbGlkRGF0ZShpc29EYXRlKSAmJiBpc0JpcnRoUGxhdXNpYmxlKGlzb0RhdGUpKSB7XHJcbiAgICAgIHJldHVybiB7IGlzb0RhdGUsIHJhd01hdGNoIH07XHJcbiAgICB9XHJcbiAgICAvLyBUcnkgREQvTU1cclxuICAgIGlzb0RhdGUgPSBgJHt5ZWFyfS0ke3NlY29uZH0tJHtmaXJzdH1gO1xyXG4gICAgaWYgKGlzVmFsaWREYXRlKGlzb0RhdGUpICYmIGlzQmlydGhQbGF1c2libGUoaXNvRGF0ZSkpIHtcclxuICAgICAgcmV0dXJuIHsgaXNvRGF0ZSwgcmF3TWF0Y2ggfTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHJldHVybiBudWxsO1xyXG59XHJcblxyXG4vKipcclxuICogVmFsaWRhdGUgSVNPIGRhdGUgc3RyaW5nIGlzIGEgcmVhbCBkYXRlXHJcbiAqL1xyXG5mdW5jdGlvbiBpc1ZhbGlkRGF0ZShpc29EYXRlOiBzdHJpbmcpOiBib29sZWFuIHtcclxuICBjb25zdCBkYXRlID0gbmV3IERhdGUoaXNvRGF0ZSk7XHJcbiAgaWYgKGlzTmFOKGRhdGUuZ2V0VGltZSgpKSkgcmV0dXJuIGZhbHNlO1xyXG5cclxuICAvLyBDaGVjayB0aGF0IHBhcnNpbmcgZGlkbid0IHNoaWZ0IHRoZSBkYXRlIChlLmcuLCBGZWIgMzEgLT4gTWFyIDMpXHJcbiAgY29uc3QgW3llYXIsIG1vbnRoLCBkYXldID0gaXNvRGF0ZS5zcGxpdChcIi1cIikubWFwKE51bWJlcik7XHJcbiAgcmV0dXJuIChcclxuICAgIGRhdGUuZ2V0RnVsbFllYXIoKSA9PT0geWVhciAmJlxyXG4gICAgZGF0ZS5nZXRNb250aCgpID09PSBtb250aCAtIDEgJiZcclxuICAgIGRhdGUuZ2V0RGF0ZSgpID09PSBkYXlcclxuICApO1xyXG59XHJcblxyXG4vKipcclxuICogQ2hlY2sgaWYgZGF0ZSBjb3VsZCBwbGF1c2libHkgYmUgYSBiaXJ0aCBkYXRlIChwZXJzb24gd291bGQgYmUgMTQtMTAwIHllYXJzIG9sZClcclxuICovXHJcbmZ1bmN0aW9uIGlzQmlydGhQbGF1c2libGUoaXNvRGF0ZTogc3RyaW5nKTogYm9vbGVhbiB7XHJcbiAgY29uc3QgYWdlID0gY2FsY3VsYXRlQWdlKGlzb0RhdGUpO1xyXG4gIHJldHVybiBhZ2UgIT09IG51bGwgJiYgYWdlID49IDE0ICYmIGFnZSA8PSAxMDA7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBDYWxjdWxhdGUgYWdlIGZyb20gSVNPIGRhdGUgc3RyaW5nXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gY2FsY3VsYXRlQWdlKGJpcnRoRGF0ZTogc3RyaW5nKTogbnVtYmVyIHwgbnVsbCB7XHJcbiAgY29uc3QgYmlydGggPSBuZXcgRGF0ZShiaXJ0aERhdGUpO1xyXG4gIGlmIChpc05hTihiaXJ0aC5nZXRUaW1lKCkpKSByZXR1cm4gbnVsbDtcclxuXHJcbiAgY29uc3QgdG9kYXkgPSBuZXcgRGF0ZSgpO1xyXG4gIGxldCBhZ2UgPSB0b2RheS5nZXRGdWxsWWVhcigpIC0gYmlydGguZ2V0RnVsbFllYXIoKTtcclxuXHJcbiAgLy8gQWRqdXN0IGlmIGJpcnRoZGF5IGhhc24ndCBvY2N1cnJlZCB5ZXQgdGhpcyB5ZWFyXHJcbiAgY29uc3QgbW9udGhEaWZmID0gdG9kYXkuZ2V0TW9udGgoKSAtIGJpcnRoLmdldE1vbnRoKCk7XHJcbiAgaWYgKG1vbnRoRGlmZiA8IDAgfHwgKG1vbnRoRGlmZiA9PT0gMCAmJiB0b2RheS5nZXREYXRlKCkgPCBiaXJ0aC5nZXREYXRlKCkpKSB7XHJcbiAgICBhZ2UtLTtcclxuICB9XHJcblxyXG4gIHJldHVybiBhZ2U7XHJcbn1cclxuIl0sIm5hbWVzIjpbImV4dHJhY3REb2JGcm9tT2NyVGV4dCIsIm9jclRleHQiLCJyZXN1bHQiLCJiaXJ0aERhdGUiLCJhZ2UiLCJpc092ZXIxOSIsInJhd01hdGNoIiwibGFiZWxlZERhdGUiLCJleHRyYWN0TGFiZWxlZERvYiIsImlzb0RhdGUiLCJiaXJ0aFllYXJEYXRlIiwiZXh0cmFjdEJpcnRoWWVhckRhdGUiLCJjYWxjdWxhdGVBZ2UiLCJ0ZXh0IiwicGF0dGVybnMiLCJwYXR0ZXJuIiwibWF0Y2giLCJzb3VyY2UiLCJpbmNsdWRlcyIsImxlbmd0aCIsInllYXIiLCJtb250aCIsImRheSIsImlzVmFsaWREYXRlIiwiZmlyc3QiLCJzZWNvbmQiLCJmaXJzdFBhdHRlcm4iLCJleGVjIiwiaXNCaXJ0aFBsYXVzaWJsZSIsInNlY29uZFBhdHRlcm4iLCJkYXRlIiwiRGF0ZSIsImlzTmFOIiwiZ2V0VGltZSIsInNwbGl0IiwibWFwIiwiTnVtYmVyIiwiZ2V0RnVsbFllYXIiLCJnZXRNb250aCIsImdldERhdGUiLCJiaXJ0aCIsInRvZGF5IiwibW9udGhEaWZmIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/server/dobExtractor.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/server/prisma.ts":
/*!**********************************!*\
  !*** ./src/lib/server/prisma.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   prisma: () => (/* binding */ prisma)\n/* harmony export */ });\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @prisma/client */ \"@prisma/client\");\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_prisma_client__WEBPACK_IMPORTED_MODULE_0__);\n\n// Prevent multiple Prisma Client instances in development (hot reload)\nconst globalForPrisma = globalThis;\nconst prisma = globalForPrisma.prisma ?? new _prisma_client__WEBPACK_IMPORTED_MODULE_0__.PrismaClient({\n    log:  true ? [\n        \"query\",\n        \"error\",\n        \"warn\"\n    ] : 0\n});\nif (true) {\n    globalForPrisma.prisma = prisma;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL3NlcnZlci9wcmlzbWEudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQThDO0FBRTlDLHVFQUF1RTtBQUN2RSxNQUFNQyxrQkFBa0JDO0FBSWpCLE1BQU1DLFNBQ1hGLGdCQUFnQkUsTUFBTSxJQUN0QixJQUFJSCx3REFBWUEsQ0FBQztJQUNmSSxLQUFLQyxLQUFzQyxHQUFHO1FBQUM7UUFBUztRQUFTO0tBQU8sR0FBRyxDQUFTO0FBQ3RGLEdBQUc7QUFFTCxJQUFJQSxJQUFxQyxFQUFFO0lBQ3pDSixnQkFBZ0JFLE1BQU0sR0FBR0E7QUFDM0IiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zZHVhcmYvLi9zcmMvbGliL3NlcnZlci9wcmlzbWEudHM/YTA1NSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQcmlzbWFDbGllbnQgfSBmcm9tIFwiQHByaXNtYS9jbGllbnRcIjtcclxuXHJcbi8vIFByZXZlbnQgbXVsdGlwbGUgUHJpc21hIENsaWVudCBpbnN0YW5jZXMgaW4gZGV2ZWxvcG1lbnQgKGhvdCByZWxvYWQpXHJcbmNvbnN0IGdsb2JhbEZvclByaXNtYSA9IGdsb2JhbFRoaXMgYXMgdW5rbm93biBhcyB7XHJcbiAgcHJpc21hOiBQcmlzbWFDbGllbnQgfCB1bmRlZmluZWQ7XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgcHJpc21hID1cclxuICBnbG9iYWxGb3JQcmlzbWEucHJpc21hID8/XHJcbiAgbmV3IFByaXNtYUNsaWVudCh7XHJcbiAgICBsb2c6IHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSBcImRldmVsb3BtZW50XCIgPyBbXCJxdWVyeVwiLCBcImVycm9yXCIsIFwid2FyblwiXSA6IFtcImVycm9yXCJdLFxyXG4gIH0pO1xyXG5cclxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikge1xyXG4gIGdsb2JhbEZvclByaXNtYS5wcmlzbWEgPSBwcmlzbWE7XHJcbn1cclxuIl0sIm5hbWVzIjpbIlByaXNtYUNsaWVudCIsImdsb2JhbEZvclByaXNtYSIsImdsb2JhbFRoaXMiLCJwcmlzbWEiLCJsb2ciLCJwcm9jZXNzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/server/prisma.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/tr46","vendor-chunks/@simplewebauthn","vendor-chunks/whatwg-url","vendor-chunks/webidl-conversions","vendor-chunks/@peculiar","vendor-chunks/asn1js","vendor-chunks/cross-fetch","vendor-chunks/@levischuck","vendor-chunks/tslib","vendor-chunks/pvtsutils","vendor-chunks/pvutils","vendor-chunks/@hexagon"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fverify%2Fstart%2Froute&page=%2Fapi%2Fverify%2Fstart%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fverify%2Fstart%2Froute.ts&appDir=C%3A%5CUsers%5Cjiami%5COneDrive%5CDesktop%5Cworkspace%5Ckms_please%5Csduarf%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Cjiami%5COneDrive%5CDesktop%5Cworkspace%5Ckms_please%5Csduarf&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();